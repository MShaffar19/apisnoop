<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Zach Mandeville" />
  <title>client.tmpfqHHb3</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="the-code">The Code</h1>
<h2 id="file-structure">File Structure</h2>
<p>Our client is set up as soâ€¦</p>
<pre id="Our Directory Structure" class="shell"><code>tree  -I &#39;node_modules&#39; -d
</code></pre>
<p>The core work is done in the src folder. Public holds our stylesheets and assets, and build holds everything when we set it up for production.</p>
<p>Within our Src, file:</p>
<ul>
<li>Actions manage calls to the app's state, requesting new data.</li>
<li>Components are modular parts of our UI, like dropdown boxes and navbars and such.</li>
<li>Pages are collections of components that display based on the route of the site and the actions of the user. They are similar to html pages.</li>
<li>reducers listens to actions and the payload of data they contain and reducer that data into a single state tree for the app. This is the data being called upon in the components.</li>
<li>Sagas are not being used yet.</li>
</ul>
<h2 id="index.js">index.js</h2>
<p>The entry point of the app. This is what gets mounted to our index.html page, and then leads us into the rest of the frontend. So we want to make a nice package to mount that has our redux store and our react app bundled up together. Additionally, we add some basic route navigation, so we are not having to use react's strange browser router. We are only listening to the browser and redux.</p>
<div class="sourceCode" id="index.js" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="index.js-1" data-line-number="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="index.js-2" data-line-number="2"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span></a>
<a class="sourceLine" id="index.js-3" data-line-number="3"><span class="im">import</span> <span class="st">&#39;./index.css&#39;</span></a>
<a class="sourceLine" id="index.js-4" data-line-number="4"></a>
<a class="sourceLine" id="index.js-5" data-line-number="5"><span class="im">import</span> <span class="op">{</span>Provider<span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span></a>
<a class="sourceLine" id="index.js-6" data-line-number="6"></a>
<a class="sourceLine" id="index.js-7" data-line-number="7"></a>
<a class="sourceLine" id="index.js-8" data-line-number="8"><span class="im">import</span> App <span class="im">from</span> <span class="st">&#39;./components/App&#39;</span></a>
<a class="sourceLine" id="index.js-9" data-line-number="9"><span class="im">import</span> <span class="op">{</span>doUpdateUrl<span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./actions/routing&#39;</span></a>
<a class="sourceLine" id="index.js-10" data-line-number="10"><span class="im">import</span> store <span class="im">from</span> <span class="st">&#39;./store.js&#39;</span></a>
<a class="sourceLine" id="index.js-11" data-line-number="11"><span class="im">import</span> registerServiceWorker <span class="im">from</span> <span class="st">&#39;./lib/service-workers&#39;</span></a>
<a class="sourceLine" id="index.js-12" data-line-number="12"></a>
<a class="sourceLine" id="index.js-13" data-line-number="13"></a>
<a class="sourceLine" id="index.js-14" data-line-number="14"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&#39;popstate&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="index.js-15" data-line-number="15">  <span class="va">store</span>.<span class="at">dispatch</span>(<span class="at">doUpdateUrl</span>(<span class="va">window</span>.<span class="va">location</span>.<span class="at">pathname</span>))</a>
<a class="sourceLine" id="index.js-16" data-line-number="16"><span class="op">}</span>)</a>
<a class="sourceLine" id="index.js-17" data-line-number="17"></a>
<a class="sourceLine" id="index.js-18" data-line-number="18"><span class="va">store</span>.<span class="at">subscribe</span>(() <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="index.js-19" data-line-number="19">  <span class="kw">const</span> <span class="op">{</span> pathname <span class="op">}</span> <span class="op">=</span> <span class="va">store</span>.<span class="at">getState</span>().<span class="at">routing</span></a>
<a class="sourceLine" id="index.js-20" data-line-number="20">  <span class="cf">if</span> (<span class="va">window</span>.<span class="va">location</span>.<span class="at">pathname</span> <span class="op">!==</span> pathname) <span class="op">{</span></a>
<a class="sourceLine" id="index.js-21" data-line-number="21">    <span class="va">window</span>.<span class="va">history</span>.<span class="at">pushState</span>(<span class="kw">null</span><span class="op">,</span> <span class="st">&#39;&#39;</span><span class="op">,</span> pathname)</a>
<a class="sourceLine" id="index.js-22" data-line-number="22">  <span class="op">}</span></a>
<a class="sourceLine" id="index.js-23" data-line-number="23"><span class="op">}</span>)</a>
<a class="sourceLine" id="index.js-24" data-line-number="24"></a>
<a class="sourceLine" id="index.js-25" data-line-number="25"><span class="va">document</span>.<span class="at">title</span> <span class="op">=</span> <span class="st">&#39;APISnoop | &#39;</span> <span class="op">+</span> <span class="va">store</span>.<span class="at">getState</span>().<span class="va">routing</span>.<span class="at">release</span></a>
<a class="sourceLine" id="index.js-26" data-line-number="26"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="index.js-27" data-line-number="27">    <span class="op">&lt;</span>Provider store<span class="op">={</span>store<span class="op">}&gt;</span></a>
<a class="sourceLine" id="index.js-28" data-line-number="28">    <span class="op">&lt;</span>App /<span class="op">&gt;</span></a>
<a class="sourceLine" id="index.js-29" data-line-number="29">    &lt;/Provider<span class="op">&gt;,</span></a>
<a class="sourceLine" id="index.js-30" data-line-number="30">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="index.js-31" data-line-number="31">)</a>
<a class="sourceLine" id="index.js-32" data-line-number="32"><span class="at">registerServiceWorker</span>()</a></code></pre></div>
<h2 id="store.js">store.js</h2>
<p>sets up our redux store and any middleware we need to apply to it (like thunk, which we use for our api calls to the backend)</p>
<div class="sourceCode" id="store.js" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="store.js-1" data-line-number="1"><span class="im">import</span> <span class="op">{</span> createStore<span class="op">,</span> applyMiddleware <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;redux&#39;</span></a>
<a class="sourceLine" id="store.js-2" data-line-number="2"><span class="im">import</span> thunk <span class="im">from</span> <span class="st">&#39;redux-thunk&#39;</span></a>
<a class="sourceLine" id="store.js-3" data-line-number="3"><span class="im">import</span> promise <span class="im">from</span> <span class="st">&#39;redux-promise-middleware&#39;</span></a>
<a class="sourceLine" id="store.js-4" data-line-number="4"><span class="im">import</span> <span class="op">{</span> composeWithDevTools <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;redux-devtools-extension&#39;</span></a>
<a class="sourceLine" id="store.js-5" data-line-number="5"><span class="im">import</span> rootReducer <span class="im">from</span> <span class="st">&#39;./reducers&#39;</span></a>
<a class="sourceLine" id="store.js-6" data-line-number="6"></a>
<a class="sourceLine" id="store.js-7" data-line-number="7"><span class="kw">const</span> middleware <span class="op">=</span> <span class="at">composeWithDevTools</span>(<span class="at">applyMiddleware</span>(<span class="at">promise</span>()<span class="op">,</span> thunk))</a>
<a class="sourceLine" id="store.js-8" data-line-number="8"></a>
<a class="sourceLine" id="store.js-9" data-line-number="9"><span class="im">export</span> <span class="im">default</span> <span class="at">createStore</span>(rootReducer<span class="op">,</span> middleware)</a></code></pre></div>
<h2 id="our-appapp.js">Our App(app.js)</h2>
<p>Introduction</p>
<p>The app component is often seen as the 'layout template' for the frontend. Anything we want to be displayed at all times should go here (e.g. a header and navbar). The app component will also handle the navigation between the different components, based on routes given.</p>
<p>This is a 'single-page-app' which means: to the server, we are only showing a single html page, the index.html. Within this page we have javascript code running that renders different views dynamically, based on what the site visitor wants to see. We can give these views the format of a URL, so it appears like we are going to different pages within apisnoop (and so we can share specific urls to others), but it's all really a continually transforming bit of Javascript.</p>
<p>Requirements</p>
<div class="sourceCode" id="Import React" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Import React-1" data-line-number="1"><span class="im">import</span> React<span class="op">,</span> <span class="op">{</span> Component <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="Import React-2" data-line-number="2"><span class="im">import</span> <span class="op">{</span> connect <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span></a>
<a class="sourceLine" id="Import React-3" data-line-number="3"><span class="im">import</span> <span class="op">{</span> createStructuredSelector <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;reselect&#39;</span></a>
<a class="sourceLine" id="Import React-4" data-line-number="4"></a>
<a class="sourceLine" id="Import React-5" data-line-number="5"></a>
<a class="sourceLine" id="Import React-6" data-line-number="6"><span class="im">import</span> <span class="op">{</span> selectReleaseNamesFromEndpoints<span class="op">,</span> selectIsEndpointsReady<span class="op">,</span> selectPage <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../selectors&#39;</span></a>
<a class="sourceLine" id="Import React-7" data-line-number="7"><span class="im">import</span> <span class="op">{</span> fetchEndpoints <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../actions/endpoints&#39;</span></a>
<a class="sourceLine" id="Import React-8" data-line-number="8"><span class="im">import</span> <span class="op">{</span> doFetchTests <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../actions/tests&#39;</span></a>
<a class="sourceLine" id="Import React-9" data-line-number="9"></a>
<a class="sourceLine" id="Import React-10" data-line-number="10"><span class="im">import</span> Header <span class="im">from</span> <span class="st">&#39;./header&#39;</span></a>
<a class="sourceLine" id="Import React-11" data-line-number="11"><span class="im">import</span> Footer <span class="im">from</span> <span class="st">&#39;./footer&#39;</span></a>
<a class="sourceLine" id="Import React-12" data-line-number="12"><span class="im">import</span> ReleasesList <span class="im">from</span> <span class="st">&#39;./releases-list.js&#39;</span></a></code></pre></div>
<p>We'll start by bringing in React and its Component class-we inherit all the features of this class when we render our own components, which gives them all the power we may not see at first. We also bring in connect, which will connect our react ui to the front-end's state; which lets us dynamically change what's displayed based on the data being fed it.</p>
<p>We are doing this because we want to have navigation links for the different releases, that will show a sunburst graph per release. We don't know what these release<sub>names</sub> will be though, and so we'll fetch them from the db and dynamically build our navlinks from them.</p>
<p>Next, we'll bring in react's smart navigation. These are what make the app appear to be multiple pages.</p>
<p>We will grab our release names from the database and use that to build out our navigation links dynamically.</p>
<p>Lastly, we bring in our different pages, which we can navigate between using a nice lil' tab and navlinks..</p>
<p>I think this will end up that we use MainPage multiple times, feeding in props as url params. So the main page will always show a sunburst graph, and a list of tests to click into, but what data is being fed that is based on the route we are going on.</p>
<p>The overall Layout</p>
<p>The general shape of this template is here:</p>
<div class="sourceCode" id="App Layout" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="App Layout-1" data-line-number="1"><span class="kw">class</span> App <span class="kw">extends</span> Component <span class="op">{</span></a>
<a class="sourceLine" id="App Layout-2" data-line-number="2"></a>
<a class="sourceLine" id="App Layout-3" data-line-number="3">  <span class="at">componentDidMount</span>()<span class="op">{</span></a>
<a class="sourceLine" id="App Layout-4" data-line-number="4">    <span class="kw">this</span>.<span class="va">props</span>.<span class="at">fetchEndpoints</span>()</a>
<a class="sourceLine" id="App Layout-5" data-line-number="5">    <span class="kw">this</span>.<span class="va">props</span>.<span class="at">fetchTests</span>()</a>
<a class="sourceLine" id="App Layout-6" data-line-number="6">  <span class="op">}</span></a>
<a class="sourceLine" id="App Layout-7" data-line-number="7"></a>
<a class="sourceLine" id="App Layout-8" data-line-number="8">  <span class="at">render</span>()<span class="op">{</span></a>
<a class="sourceLine" id="App Layout-9" data-line-number="9">    <span class="kw">const</span> <span class="op">{</span></a>
<a class="sourceLine" id="App Layout-10" data-line-number="10">      Page<span class="op">,</span></a>
<a class="sourceLine" id="App Layout-11" data-line-number="11">      releaseNames<span class="op">,</span></a>
<a class="sourceLine" id="App Layout-12" data-line-number="12">      endpointsReady</a>
<a class="sourceLine" id="App Layout-13" data-line-number="13">    <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">props</span></a>
<a class="sourceLine" id="App Layout-14" data-line-number="14"></a>
<a class="sourceLine" id="App Layout-15" data-line-number="15">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="App Layout-16" data-line-number="16">      <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;app&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="App Layout-17" data-line-number="17">        <span class="op">&lt;</span>Header /<span class="op">&gt;</span></a>
<a class="sourceLine" id="App Layout-18" data-line-number="18">        <span class="op">{</span>endpointsReady <span class="op">&amp;&amp;</span></a>
<a class="sourceLine" id="App Layout-19" data-line-number="19">         <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="App Layout-20" data-line-number="20">         <span class="op">&lt;</span>ReleasesList</a>
<a class="sourceLine" id="App Layout-21" data-line-number="21">           releases<span class="op">={</span>releaseNames<span class="op">}</span></a>
<a class="sourceLine" id="App Layout-22" data-line-number="22">         /&gt;</a>
<a class="sourceLine" id="App Layout-23" data-line-number="23">        <span class="op">&lt;</span>Page /<span class="op">&gt;</span></a>
<a class="sourceLine" id="App Layout-24" data-line-number="24">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="App Layout-25" data-line-number="25">        <span class="op">}</span></a>
<a class="sourceLine" id="App Layout-26" data-line-number="26">        <span class="op">{!</span>endpointsReady <span class="op">&amp;&amp;</span></a>
<a class="sourceLine" id="App Layout-27" data-line-number="27">        <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&#39;min-vh-80&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="App Layout-28" data-line-number="28">        <span class="op">&lt;</span>h3<span class="op">&gt;</span><span class="va">Loading</span>...&lt;/h3<span class="op">&gt;</span></a>
<a class="sourceLine" id="App Layout-29" data-line-number="29">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="App Layout-30" data-line-number="30">        <span class="op">}</span></a>
<a class="sourceLine" id="App Layout-31" data-line-number="31">        <span class="op">&lt;</span>Footer /<span class="op">&gt;</span></a>
<a class="sourceLine" id="App Layout-32" data-line-number="32">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="App Layout-33" data-line-number="33">    )</a>
<a class="sourceLine" id="App Layout-34" data-line-number="34">  <span class="op">}</span></a>
<a class="sourceLine" id="App Layout-35" data-line-number="35"><span class="op">}</span></a>
<a class="sourceLine" id="App Layout-36" data-line-number="36"></a>
<a class="sourceLine" id="App Layout-37" data-line-number="37"><span class="im">export</span> <span class="im">default</span> <span class="at">connect</span>(</a>
<a class="sourceLine" id="App Layout-38" data-line-number="38">  <span class="at">createStructuredSelector</span>(<span class="op">{</span></a>
<a class="sourceLine" id="App Layout-39" data-line-number="39">    <span class="dt">releaseNames</span><span class="op">:</span> selectReleaseNamesFromEndpoints<span class="op">,</span></a>
<a class="sourceLine" id="App Layout-40" data-line-number="40">    <span class="dt">endpointsReady</span><span class="op">:</span> selectIsEndpointsReady<span class="op">,</span></a>
<a class="sourceLine" id="App Layout-41" data-line-number="41">    <span class="dt">Page</span><span class="op">:</span> selectPage</a>
<a class="sourceLine" id="App Layout-42" data-line-number="42">  <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="App Layout-43" data-line-number="43">  <span class="op">{</span>fetchEndpoints<span class="op">,</span></a>
<a class="sourceLine" id="App Layout-44" data-line-number="44">   <span class="dt">fetchTests</span><span class="op">:</span> doFetchTests</a>
<a class="sourceLine" id="App Layout-45" data-line-number="45">  <span class="op">}</span>)(App)</a></code></pre></div>
<h2 id="pages">Pages</h2>
<p>We are following a convention where, if a component acts as its own route and holds many different components within it, then it's called a page. Think of navigating between different pages in a site, and each one is made up of several diff. section. It is the same here, just that we are navigating between JS dispalying different Page components.</p>
<p>MainPage</p>
<p>This page will hold the different areas for releaseâ€“it's sunburst, and its list of test names. We can add additional Segments here too, as our visualizations expand.</p>
<div class="sourceCode" id="cb1" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" data-line-number="1">            <span class="im">import</span> React<span class="op">,</span> <span class="op">{</span> Component <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">            <span class="im">import</span> <span class="op">{</span> connect <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">            <span class="im">import</span> <span class="op">{</span> createStructuredSelector <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;reselect&#39;</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">            <span class="im">import</span> <span class="op">{</span> focusChart<span class="op">,</span> doLockChart<span class="op">,</span> unfocusChart<span class="op">,</span> doUnlockChart <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../actions/charts&#39;</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="im">import</span> <span class="op">{</span> doChooseActiveTest<span class="op">,</span> doCloseActiveTest<span class="op">,</span> doSetEndpointTests <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../actions/tests&#39;</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">            <span class="im">import</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9">              selectActiveTest<span class="op">,</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">              selectChartLocked<span class="op">,</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11">              selectEndpointTests<span class="op">,</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12">              selectEndpointsWithTestCoverage<span class="op">,</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13">              selectFocusPathAsArray<span class="op">,</span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14">              selectFocusPathAsString<span class="op">,</span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15">              selectInteriorLabel<span class="op">,</span></a>
<a class="sourceLine" id="cb1-16" data-line-number="16">              selectRelease<span class="op">,</span></a>
<a class="sourceLine" id="cb1-17" data-line-number="17">              selectReleaseNamesFromEndpoints<span class="op">,</span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18">              selectIsSunburstReady<span class="op">,</span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19">              selectIsTestsReady<span class="op">,</span></a>
<a class="sourceLine" id="cb1-20" data-line-number="20">              selectSunburstByReleaseWithSortedLevel</a>
<a class="sourceLine" id="cb1-21" data-line-number="21">            <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../selectors&#39;</span></a>
<a class="sourceLine" id="cb1-22" data-line-number="22"></a>
<a class="sourceLine" id="cb1-23" data-line-number="23">            <span class="im">import</span> SunburstSegment <span class="im">from</span> <span class="st">&#39;../components/sunburst-segment&#39;</span></a>
<a class="sourceLine" id="cb1-24" data-line-number="24">            <span class="im">import</span> TestsContainer <span class="im">from</span> <span class="st">&#39;../components/tests-container&#39;</span></a>
<a class="sourceLine" id="cb1-25" data-line-number="25"></a>
<a class="sourceLine" id="cb1-26" data-line-number="26">            <span class="kw">class</span> MainPage <span class="kw">extends</span> Component <span class="op">{</span></a>
<a class="sourceLine" id="cb1-27" data-line-number="27">              <span class="at">render</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb1-28" data-line-number="28">                <span class="kw">const</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-29" data-line-number="29">                  activeTest<span class="op">,</span></a>
<a class="sourceLine" id="cb1-30" data-line-number="30">                  chartLocked<span class="op">,</span></a>
<a class="sourceLine" id="cb1-31" data-line-number="31">                  closeActiveTest<span class="op">,</span></a>
<a class="sourceLine" id="cb1-32" data-line-number="32">                  doChooseActiveTest<span class="op">,</span></a>
<a class="sourceLine" id="cb1-33" data-line-number="33">                  endpoints<span class="op">,</span></a>
<a class="sourceLine" id="cb1-34" data-line-number="34">                  endpointTests<span class="op">,</span></a>
<a class="sourceLine" id="cb1-35" data-line-number="35">                  focusChart<span class="op">,</span></a>
<a class="sourceLine" id="cb1-36" data-line-number="36">                  focusPath<span class="op">,</span></a>
<a class="sourceLine" id="cb1-37" data-line-number="37">                  focusPathAsString<span class="op">,</span></a>
<a class="sourceLine" id="cb1-38" data-line-number="38">                  interiorLabel<span class="op">,</span></a>
<a class="sourceLine" id="cb1-39" data-line-number="39">                  isSunburstReady<span class="op">,</span></a>
<a class="sourceLine" id="cb1-40" data-line-number="40">                  isTestsReady<span class="op">,</span></a>
<a class="sourceLine" id="cb1-41" data-line-number="41">                  lockChart<span class="op">,</span></a>
<a class="sourceLine" id="cb1-42" data-line-number="42">                  release<span class="op">,</span></a>
<a class="sourceLine" id="cb1-43" data-line-number="43">                  setEndpointTests<span class="op">,</span></a>
<a class="sourceLine" id="cb1-44" data-line-number="44">                  sunburstByRelease<span class="op">,</span></a>
<a class="sourceLine" id="cb1-45" data-line-number="45">                  unfocusChart<span class="op">,</span></a>
<a class="sourceLine" id="cb1-46" data-line-number="46">                  unlockChart</a>
<a class="sourceLine" id="cb1-47" data-line-number="47">                <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">props</span></a>
<a class="sourceLine" id="cb1-48" data-line-number="48"></a>
<a class="sourceLine" id="cb1-49" data-line-number="49"></a>
<a class="sourceLine" id="cb1-50" data-line-number="50">                <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb1-51" data-line-number="51">                    <span class="op">&lt;</span>main id<span class="op">=</span><span class="st">&#39;main-splash&#39;</span> className<span class="op">=</span><span class="st">&#39;min-vh-80 pa4 flex&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-52" data-line-number="52">                    <span class="op">{</span><span class="co">/* &lt;h2&gt;You are doing a good job.&lt;/h2&gt; */</span><span class="op">}</span></a>
<a class="sourceLine" id="cb1-53" data-line-number="53">                    <span class="op">{</span>isSunburstReady <span class="op">&amp;&amp;</span> <span class="op">&lt;</span>SunburstSegment</a>
<a class="sourceLine" id="cb1-54" data-line-number="54">                     sunburst<span class="op">={{</span><span class="dt">data</span><span class="op">:</span> <span class="va">sunburstByRelease</span>.<span class="at">dataByRelease</span>[release]<span class="op">}}</span></a>
<a class="sourceLine" id="cb1-55" data-line-number="55">                     chartLocked<span class="op">={</span>chartLocked<span class="op">}</span></a>
<a class="sourceLine" id="cb1-56" data-line-number="56">                     endpoints<span class="op">={</span>endpoints[release]<span class="op">}</span></a>
<a class="sourceLine" id="cb1-57" data-line-number="57">                     focusChart<span class="op">={</span>focusChart<span class="op">}</span></a>
<a class="sourceLine" id="cb1-58" data-line-number="58">                     unfocusChart<span class="op">={</span>unfocusChart<span class="op">}</span></a>
<a class="sourceLine" id="cb1-59" data-line-number="59">                     lockChart<span class="op">={</span>lockChart<span class="op">}</span></a>
<a class="sourceLine" id="cb1-60" data-line-number="60">                     unlockChart<span class="op">={</span>unlockChart<span class="op">}</span></a>
<a class="sourceLine" id="cb1-61" data-line-number="61">                     setEndpointTests<span class="op">={</span>setEndpointTests<span class="op">}</span></a>
<a class="sourceLine" id="cb1-62" data-line-number="62">                     release<span class="op">=</span> <span class="op">{</span>release<span class="op">}</span></a>
<a class="sourceLine" id="cb1-63" data-line-number="63">                     focusPath<span class="op">={</span>focusPath<span class="op">}</span></a>
<a class="sourceLine" id="cb1-64" data-line-number="64">                     focusPathAsString<span class="op">={</span>focusPathAsString<span class="op">}</span></a>
<a class="sourceLine" id="cb1-65" data-line-number="65">                     interiorLabel<span class="op">={</span>interiorLabel<span class="op">}</span></a>
<a class="sourceLine" id="cb1-66" data-line-number="66">                     /&gt;</a>
<a class="sourceLine" id="cb1-67" data-line-number="67">                    <span class="op">}</span></a>
<a class="sourceLine" id="cb1-68" data-line-number="68">                   <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-69" data-line-number="69">                    <span class="op">&lt;</span>TestsContainer</a>
<a class="sourceLine" id="cb1-70" data-line-number="70">                  closeActiveTest<span class="op">={</span>closeActiveTest<span class="op">}</span></a>
<a class="sourceLine" id="cb1-71" data-line-number="71">                      interiorLabel<span class="op">={</span>interiorLabel<span class="op">}</span></a>
<a class="sourceLine" id="cb1-72" data-line-number="72">                      isTestsReady<span class="op">={</span>isTestsReady<span class="op">}</span></a>
<a class="sourceLine" id="cb1-73" data-line-number="73">                      chartLocked<span class="op">={</span>chartLocked<span class="op">}</span></a>
<a class="sourceLine" id="cb1-74" data-line-number="74">                      activeTest<span class="op">={</span>activeTest<span class="op">}</span></a>
<a class="sourceLine" id="cb1-75" data-line-number="75">                      chooseActiveTest<span class="op">={</span>doChooseActiveTest<span class="op">}</span></a>
<a class="sourceLine" id="cb1-76" data-line-number="76">                      endpointTests<span class="op">={</span>endpointTests<span class="op">}</span></a>
<a class="sourceLine" id="cb1-77" data-line-number="77">                    /&gt;</a>
<a class="sourceLine" id="cb1-78" data-line-number="78">                   &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-79" data-line-number="79">                  &lt;/main<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-80" data-line-number="80">                )</a>
<a class="sourceLine" id="cb1-81" data-line-number="81">              <span class="op">}</span></a>
<a class="sourceLine" id="cb1-82" data-line-number="82">            <span class="op">}</span></a>
<a class="sourceLine" id="cb1-83" data-line-number="83"></a>
<a class="sourceLine" id="cb1-84" data-line-number="84">            <span class="im">export</span> <span class="im">default</span> <span class="at">connect</span>(</a>
<a class="sourceLine" id="cb1-85" data-line-number="85">              <span class="at">createStructuredSelector</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb1-86" data-line-number="86">                <span class="dt">activeTest</span><span class="op">:</span> selectActiveTest<span class="op">,</span></a>
<a class="sourceLine" id="cb1-87" data-line-number="87">                <span class="dt">chartLocked</span><span class="op">:</span> selectChartLocked<span class="op">,</span></a>
<a class="sourceLine" id="cb1-88" data-line-number="88">                <span class="dt">endpoints</span><span class="op">:</span> selectEndpointsWithTestCoverage<span class="op">,</span></a>
<a class="sourceLine" id="cb1-89" data-line-number="89">                <span class="dt">endpointTests</span><span class="op">:</span> selectEndpointTests<span class="op">,</span></a>
<a class="sourceLine" id="cb1-90" data-line-number="90">                <span class="dt">focusPath</span><span class="op">:</span> selectFocusPathAsArray<span class="op">,</span></a>
<a class="sourceLine" id="cb1-91" data-line-number="91">                <span class="dt">focusPathAsString</span><span class="op">:</span> selectFocusPathAsString<span class="op">,</span></a>
<a class="sourceLine" id="cb1-92" data-line-number="92">                <span class="dt">isSunburstReady</span><span class="op">:</span> selectIsSunburstReady<span class="op">,</span></a>
<a class="sourceLine" id="cb1-93" data-line-number="93">                <span class="dt">isTestsReady</span><span class="op">:</span> selectIsTestsReady<span class="op">,</span></a>
<a class="sourceLine" id="cb1-94" data-line-number="94">                <span class="dt">interiorLabel</span><span class="op">:</span> selectInteriorLabel<span class="op">,</span></a>
<a class="sourceLine" id="cb1-95" data-line-number="95">                <span class="dt">release</span><span class="op">:</span> selectRelease<span class="op">,</span></a>
<a class="sourceLine" id="cb1-96" data-line-number="96">                <span class="dt">releaseNames</span><span class="op">:</span> selectReleaseNamesFromEndpoints<span class="op">,</span></a>
<a class="sourceLine" id="cb1-97" data-line-number="97">                <span class="dt">sunburstByRelease</span><span class="op">:</span> selectSunburstByReleaseWithSortedLevel</a>
<a class="sourceLine" id="cb1-98" data-line-number="98">              <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb1-99" data-line-number="99">              <span class="op">{</span>doChooseActiveTest<span class="op">,</span></a>
<a class="sourceLine" id="cb1-100" data-line-number="100">               <span class="dt">closeActiveTest</span><span class="op">:</span> doCloseActiveTest<span class="op">,</span></a>
<a class="sourceLine" id="cb1-101" data-line-number="101">               focusChart<span class="op">,</span></a>
<a class="sourceLine" id="cb1-102" data-line-number="102">               <span class="dt">lockChart</span><span class="op">:</span> doLockChart<span class="op">,</span></a>
<a class="sourceLine" id="cb1-103" data-line-number="103">               <span class="dt">setEndpointTests</span><span class="op">:</span> doSetEndpointTests<span class="op">,</span></a>
<a class="sourceLine" id="cb1-104" data-line-number="104">               unfocusChart<span class="op">,</span></a>
<a class="sourceLine" id="cb1-105" data-line-number="105">               <span class="dt">unlockChart</span><span class="op">:</span> doUnlockChart</a>
<a class="sourceLine" id="cb1-106" data-line-number="106">               <span class="op">}</span>)(MainPage)</a></code></pre></div>
<h2 id="components">Components</h2>
<p>The various visual parts of the app. For the most part, we want these to be as dumb as possibleâ€“they present the stuff they're given, and if they have to do any interactive stuff it remains contained to within itself. Any other changes should be handled outside of the component through actionCreators our and reducer updating the global state of the app. In other words, the components display the state as it is now, and they can trigger events which update the state, but they always simply display it as it is now.</p>
<h3 id="header">Header</h3>
<p>The classic APISnoop header, rendered in short and sweet tachyons</p>
<div class="sourceCode" id="Header" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Header-1" data-line-number="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="Header-2" data-line-number="2"></a>
<a class="sourceLine" id="Header-3" data-line-number="3"><span class="im">export</span> <span class="im">default</span> () <span class="op">=&gt;</span> (</a>
<a class="sourceLine" id="Header-4" data-line-number="4">    <span class="op">&lt;</span>header className<span class="op">=</span><span class="st">&#39;flex flex-row pt2 pb2 pl4 pr4 h3_5 items-center justify-between bg-light-gray black shadow-3&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-5" data-line-number="5">      <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;logo&#39;</span> className<span class="op">=</span> <span class="st">&#39;flex flex-wrap items-center&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-6" data-line-number="6">      <span class="op">&lt;</span>img className<span class="op">=</span><span class="st">&#39;h2&#39;</span> src<span class="op">=</span><span class="st">&#39;./apisnoop_logo_v1.png&#39;</span> alt<span class="op">=</span><span class="st">&#39;logo for apisnoop, a magnifying glass with a sunburst graph inside.&#39;</span> /&gt;</a>
<a class="sourceLine" id="Header-7" data-line-number="7">      <span class="op">&lt;</span>h1 className<span class="op">=</span><span class="st">&#39;ma0 f4 fw4 pl2 avenir&#39;</span><span class="op">&gt;</span>APISnoop&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-8" data-line-number="8">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-9" data-line-number="9">      <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;source-code&#39;</span> className<span class="op">=</span><span class="st">&#39;flex items-center&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-10" data-line-number="10">        <span class="op">&lt;</span>svg xmlns<span class="op">=</span><span class="st">&quot;http://www.w3.org/2000/svg&quot;</span> width<span class="op">=</span><span class="st">&quot;16&quot;</span> height<span class="op">=</span><span class="st">&quot;16&quot;</span> viewBox<span class="op">=</span><span class="st">&quot;0 0 16 16&quot;</span><span class="op">&gt;&lt;</span>path fillRule<span class="op">=</span><span class="st">&quot;evenodd&quot;</span> d<span class="op">=</span><span class="st">&quot;M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z&quot;</span>/&gt;&lt;/svg<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-11" data-line-number="11">        <span class="op">&lt;</span>a href<span class="op">=</span><span class="st">&#39;https://github.com/cncf/apisnoop&#39;</span> title<span class="op">=</span><span class="st">&#39;github repo for apisnoop&#39;</span> className<span class="op">=</span><span class="st">&#39;link f7 pl1&#39;</span><span class="op">&gt;</span>Source Code&lt;/a<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-12" data-line-number="12">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-13" data-line-number="13">    &lt;/header<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-14" data-line-number="14">)</a></code></pre></div>
<h3 id="footer">Footer</h3>
<p>The classic APISnoop header, rendered in short and sweet tachyons</p>
<div class="sourceCode" id="Header" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Header-1" data-line-number="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="Header-2" data-line-number="2"></a>
<a class="sourceLine" id="Header-3" data-line-number="3"><span class="im">export</span> <span class="im">default</span> () <span class="op">=&gt;</span> (</a>
<a class="sourceLine" id="Header-4" data-line-number="4">    <span class="op">&lt;</span>footer className<span class="op">=</span><span class="st">&#39;flex flex-column flex-row-ns pt2 pb2 h3 pl4 pr4 items-center justify-between bg-black black shadow-3&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-5" data-line-number="5">    <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;logo&#39;</span> className<span class="op">=</span> <span class="st">&#39;flex flex-wrap items-center justify-center&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-6" data-line-number="6">    <span class="op">&lt;</span>a className<span class="op">=</span><span class="st">&#39;contain bg-cncf bg-center h-100 w4&#39;</span> href<span class="op">=</span><span class="st">&#39;https://cncf.io&#39;</span> title<span class="op">=</span><span class="st">&#39;leads to external cncf homepage&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-7" data-line-number="7">    <span class="op">&lt;</span>span className<span class="op">=</span><span class="st">&#39;o-0&#39;</span><span class="op">&gt;</span>cncf&lt;/span<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-8" data-line-number="8">    &lt;/a<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-9" data-line-number="9">    <span class="op">&lt;</span>a className<span class="op">=</span><span class="st">&#39;contain bg-packet bg-center h-100 w4&#39;</span> href<span class="op">=</span><span class="st">&#39;https://packet.net&#39;</span> title<span class="op">=</span><span class="st">&#39;leads to external packet homepage&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-10" data-line-number="10">    <span class="op">&lt;</span>span className<span class="op">=</span><span class="st">&#39;o-0&#39;</span><span class="op">&gt;</span>packet&lt;/span<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-11" data-line-number="11">    &lt;/a<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-12" data-line-number="12">    <span class="op">&lt;</span>h1 className<span class="op">=</span><span class="st">&#39;ma0 f4 fw4 pl2 avenir&#39;</span><span class="op">&gt;</span>APISnoop&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-13" data-line-number="13">    &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-14" data-line-number="14">    <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;source-code&#39;</span> className<span class="op">=</span><span class="st">&#39;flex items-center&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-15" data-line-number="15">    <span class="op">&lt;</span>svg xmlns<span class="op">=</span><span class="st">&quot;http://www.w3.org/2000/svg&quot;</span> width<span class="op">=</span><span class="st">&quot;16&quot;</span> height<span class="op">=</span><span class="st">&quot;16&quot;</span> viewBox<span class="op">=</span><span class="st">&quot;0 0 16 16&quot;</span><span class="op">&gt;&lt;</span>path fillRule<span class="op">=</span><span class="st">&quot;evenodd&quot;</span> d<span class="op">=</span><span class="st">&quot;M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z&quot;</span>/&gt;&lt;/svg<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-16" data-line-number="16">    <span class="op">&lt;</span>a href<span class="op">=</span><span class="st">&#39;http://binder.hub.cncf.ci/v2/gh/cncf/apisnoop/master&#39;</span> target<span class="op">=</span><span class="st">&#39;_blank noopener noreferrer&#39;</span> title<span class="op">=</span><span class="st">&#39;external jupyter notebook&#39;</span> className<span class="op">=</span><span class="st">&#39;link f5 pl1 white&#39;</span><span class="op">&gt;</span>See Data <span class="kw">in</span> Jupyter&lt;/a<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-17" data-line-number="17">    &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-18" data-line-number="18">    &lt;/footer<span class="op">&gt;</span></a>
<a class="sourceLine" id="Header-19" data-line-number="19">)</a></code></pre></div>
<h3 id="sunburst">Sunburst</h3>
<ol>
<li><p>Sunburst Segment</p>
<p>This is the section of the site dedicated to the sunburst, including any additional text we want to include or a nice header or anything like that.</p>
<div class="sourceCode" id="Sunburst Segment" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Sunburst Segment-1" data-line-number="1"><span class="im">import</span> React<span class="op">,</span> <span class="op">{</span> Component <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="Sunburst Segment-2" data-line-number="2"><span class="im">import</span> SunburstChart <span class="im">from</span> <span class="st">&#39;./sunburst-chart&#39;</span></a>
<a class="sourceLine" id="Sunburst Segment-3" data-line-number="3"></a>
<a class="sourceLine" id="Sunburst Segment-4" data-line-number="4"></a>
<a class="sourceLine" id="Sunburst Segment-5" data-line-number="5"><span class="kw">class</span> SunburstSegment <span class="kw">extends</span> Component <span class="op">{</span></a>
<a class="sourceLine" id="Sunburst Segment-6" data-line-number="6">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="Sunburst Segment-7" data-line-number="7">    <span class="kw">const</span> <span class="op">{</span>chartLocked<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-8" data-line-number="8">           endpoints<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-9" data-line-number="9">           focusChart<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-10" data-line-number="10">           focusPath<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-11" data-line-number="11">           focusPathAsString<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-12" data-line-number="12">           lockChart<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-13" data-line-number="13">           interiorLabel<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-14" data-line-number="14">           release<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-15" data-line-number="15">           setEndpointTests<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-16" data-line-number="16">           sunburst<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-17" data-line-number="17">           unfocusChart<span class="op">,</span></a>
<a class="sourceLine" id="Sunburst Segment-18" data-line-number="18">           unlockChart<span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">props</span></a>
<a class="sourceLine" id="Sunburst Segment-19" data-line-number="19"></a>
<a class="sourceLine" id="Sunburst Segment-20" data-line-number="20">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="Sunburst Segment-21" data-line-number="21">        <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;sunburst-segment&#39;</span> className<span class="op">=</span><span class="st">&#39;pa4 flex&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Sunburst Segment-22" data-line-number="22">        <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;sunburst&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Sunburst Segment-23" data-line-number="23">        <span class="op">&lt;</span>h2<span class="op">&gt;{</span>release<span class="op">}</span>&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="Sunburst Segment-24" data-line-number="24">        <span class="op">{</span><span class="va">focusPathAsString</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>   <span class="op">?</span></a>
<a class="sourceLine" id="Sunburst Segment-25" data-line-number="25">         <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&#39;h2 pa1 mb1&#39;</span><span class="op">&gt;{</span>focusPathAsString<span class="op">}</span>&lt;/div<span class="op">&gt;</span> :</a>
<a class="sourceLine" id="Sunburst Segment-26" data-line-number="26">         <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&#39;h2 pa1 mb1&#39;</span><span class="op">&gt;</span><span class="st">&#39;Hover over Chart for Path&#39;</span>&lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Sunburst Segment-27" data-line-number="27">        <span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-28" data-line-number="28">      <span class="op">{</span>chartLocked <span class="op">?</span> <span class="op">&lt;</span>strong<span class="op">&gt;</span>Click to Unlock&lt;/strong<span class="op">&gt;</span> : <span class="op">&lt;</span>strong<span class="op">&gt;</span>Click to Lock&lt;/strong<span class="op">&gt;}</span></a>
<a class="sourceLine" id="Sunburst Segment-29" data-line-number="29"></a>
<a class="sourceLine" id="Sunburst Segment-30" data-line-number="30">        <span class="op">&lt;</span>SunburstChart</a>
<a class="sourceLine" id="Sunburst Segment-31" data-line-number="31">      sunburst<span class="op">={</span>sunburst<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-32" data-line-number="32">      chartLocked<span class="op">={</span>chartLocked<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-33" data-line-number="33">      endpoints<span class="op">={</span>endpoints<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-34" data-line-number="34">      focusChart<span class="op">={</span>focusChart<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-35" data-line-number="35">      focusPath<span class="op">={</span>focusPath<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-36" data-line-number="36">      lockChart<span class="op">={</span>lockChart<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-37" data-line-number="37">      focusPathAsString<span class="op">={</span>focusPathAsString<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-38" data-line-number="38">      interiorLabel<span class="op">={</span>interiorLabel<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-39" data-line-number="39">      setEndpointTests<span class="op">={</span>setEndpointTests<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-40" data-line-number="40">      unfocusChart<span class="op">={</span>unfocusChart<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-41" data-line-number="41">      unlockChart<span class="op">={</span>unlockChart<span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-42" data-line-number="42">        /&gt;</a>
<a class="sourceLine" id="Sunburst Segment-43" data-line-number="43">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Sunburst Segment-44" data-line-number="44">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Sunburst Segment-45" data-line-number="45">    )</a>
<a class="sourceLine" id="Sunburst Segment-46" data-line-number="46">  <span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-47" data-line-number="47"><span class="op">}</span></a>
<a class="sourceLine" id="Sunburst Segment-48" data-line-number="48"></a>
<a class="sourceLine" id="Sunburst Segment-49" data-line-number="49">  <span class="im">export</span> <span class="im">default</span> SunburstSegment</a></code></pre></div></li>
<li><p>Sunburst Chart</p>
<p>We are passing a single prop to this, sunburst, which was created by our selector. It is divided in {name, children} with the organization of level &gt; category &gt; name + method. For the name+method there is an additional thing.</p>
<div class="sourceCode" id="sunburst-chart.js" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="sunburst-chart.js-1" data-line-number="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-2" data-line-number="2"><span class="im">import</span> <span class="op">{</span> Sunburst<span class="op">,</span> LabelSeries <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react-vis&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-3" data-line-number="3"><span class="im">import</span> <span class="op">{</span> forEach<span class="op">,</span> get<span class="op">,</span> includes<span class="op">,</span> uniq<span class="op">,</span> without <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;lodash&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-4" data-line-number="4"><span class="im">import</span> <span class="op">{</span> fadeColor <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../lib/utils&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-5" data-line-number="5"></a>
<a class="sourceLine" id="sunburst-chart.js-6" data-line-number="6"><span class="kw">const</span> LABEL_STYLE <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-7" data-line-number="7">  <span class="dt">PERCENTAGE</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-8" data-line-number="8">    <span class="dt">fontSize</span><span class="op">:</span> <span class="st">&#39;1.3em&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-9" data-line-number="9">    <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">&#39;middle&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-10" data-line-number="10">  <span class="op">},</span></a>
<a class="sourceLine" id="sunburst-chart.js-11" data-line-number="11">  <span class="dt">FRACTION</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-12" data-line-number="12">    <span class="dt">fontSize</span><span class="op">:</span> <span class="st">&#39;1.2em,&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-13" data-line-number="13">    <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">&#39;middle&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-14" data-line-number="14">  <span class="op">},</span></a>
<a class="sourceLine" id="sunburst-chart.js-15" data-line-number="15">  <span class="dt">PATH</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-16" data-line-number="16">    <span class="dt">fontSize</span><span class="op">:</span> <span class="st">&#39;1em&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-17" data-line-number="17">    <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">&#39;middle&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-18" data-line-number="18">  <span class="op">},</span></a>
<a class="sourceLine" id="sunburst-chart.js-19" data-line-number="19">  <span class="dt">DESCRIPTION</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-20" data-line-number="20">    <span class="dt">fontSize</span><span class="op">:</span> <span class="st">&#39;0.9em&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-21" data-line-number="21">    <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">&#39;middle&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-22" data-line-number="22">  <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-23" data-line-number="23"><span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-24" data-line-number="24"></a>
<a class="sourceLine" id="sunburst-chart.js-25" data-line-number="25"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="at">SunburstChart</span> (props) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-26" data-line-number="26"></a>
<a class="sourceLine" id="sunburst-chart.js-27" data-line-number="27">  <span class="kw">const</span> <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-28" data-line-number="28">    chartLocked<span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-29" data-line-number="29">    endpoints<span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-30" data-line-number="30">    focusChart<span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-31" data-line-number="31">    focusPath<span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-32" data-line-number="32">    interiorLabel<span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-33" data-line-number="33">    lockChart<span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-34" data-line-number="34">    setEndpointTests<span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-35" data-line-number="35">    sunburst<span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-36" data-line-number="36">    unfocusChart<span class="op">,</span></a>
<a class="sourceLine" id="sunburst-chart.js-37" data-line-number="37">    unlockChart</a>
<a class="sourceLine" id="sunburst-chart.js-38" data-line-number="38">  <span class="op">}</span> <span class="op">=</span> props</a>
<a class="sourceLine" id="sunburst-chart.js-39" data-line-number="39"></a>
<a class="sourceLine" id="sunburst-chart.js-40" data-line-number="40">  <span class="cf">if</span> (sunburst <span class="op">==</span> <span class="kw">null</span>) <span class="cf">return</span> <span class="kw">null</span></a>
<a class="sourceLine" id="sunburst-chart.js-41" data-line-number="41">  <span class="cf">return</span>(</a>
<a class="sourceLine" id="sunburst-chart.js-42" data-line-number="42">      <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&quot;sunburst-wrapper&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="sunburst-chart.js-43" data-line-number="43">      <span class="op">&lt;</span>Sunburst</a>
<a class="sourceLine" id="sunburst-chart.js-44" data-line-number="44">    hideRootNode</a>
<a class="sourceLine" id="sunburst-chart.js-45" data-line-number="45">    colorType<span class="op">=</span><span class="st">&quot;literal&quot;</span></a>
<a class="sourceLine" id="sunburst-chart.js-46" data-line-number="46">    data<span class="op">={</span><span class="va">sunburst</span>.<span class="at">data</span><span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-47" data-line-number="47">    height<span class="op">={</span><span class="dv">500</span><span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-48" data-line-number="48">    width<span class="op">={</span><span class="dv">500</span><span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-49" data-line-number="49">    getColor<span class="op">={</span>node <span class="op">=&gt;</span> <span class="at">determineColor</span>(node)<span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-50" data-line-number="50">    onValueMouseOver<span class="op">={</span>handleMouseOver<span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-51" data-line-number="51">    onValueMouseOut<span class="op">={</span>handleMouseOut<span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-52" data-line-number="52">    onValueClick<span class="op">={</span>handleClick<span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-53" data-line-number="53">      <span class="op">&gt;</span></a>
<a class="sourceLine" id="sunburst-chart.js-54" data-line-number="54">      <span class="op">{</span>(interiorLabel <span class="op">&amp;&amp;</span> <span class="va">interiorLabel</span>.<span class="at">percentage</span>) <span class="op">&amp;&amp;</span></a>
<a class="sourceLine" id="sunburst-chart.js-55" data-line-number="55">       <span class="op">&lt;</span>LabelSeries</a>
<a class="sourceLine" id="sunburst-chart.js-56" data-line-number="56">       data<span class="op">={</span>[</a>
<a class="sourceLine" id="sunburst-chart.js-57" data-line-number="57">         <span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="va">interiorLabel</span>.<span class="at">percentage</span><span class="op">,</span> <span class="dt">style</span><span class="op">:</span> <span class="va">LABEL_STYLE</span>.<span class="at">PERCENTAGE</span><span class="op">},</span></a>
<a class="sourceLine" id="sunburst-chart.js-58" data-line-number="58">         <span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="va">interiorLabel</span>.<span class="at">ratio</span><span class="op">,</span> <span class="dt">style</span><span class="op">:</span> <span class="va">LABEL_STYLE</span>.<span class="at">FRACTION</span><span class="op">},</span></a>
<a class="sourceLine" id="sunburst-chart.js-59" data-line-number="59">         <span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">-20</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">&#39;total tested&#39;</span><span class="op">,</span> <span class="dt">style</span><span class="op">:</span> <span class="va">LABEL_STYLE</span>.<span class="at">PATH</span><span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-60" data-line-number="60">       ]<span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-61" data-line-number="61">       /&gt;<span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-62" data-line-number="62">    <span class="op">{</span>(interiorLabel <span class="op">&amp;&amp;</span> <span class="va">interiorLabel</span>.<span class="at">description</span>) <span class="op">&amp;&amp;</span></a>
<a class="sourceLine" id="sunburst-chart.js-63" data-line-number="63">     <span class="op">&lt;</span>LabelSeries</a>
<a class="sourceLine" id="sunburst-chart.js-64" data-line-number="64">     data<span class="op">={</span>[</a>
<a class="sourceLine" id="sunburst-chart.js-65" data-line-number="65">       <span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="va">interiorLabel</span>.<span class="at">description</span><span class="op">,</span> <span class="dt">style</span><span class="op">:</span> <span class="va">LABEL_STYLE</span>.<span class="at">DESCRIPTION</span><span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-66" data-line-number="66">     ]<span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-67" data-line-number="67">     /&gt;<span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-68" data-line-number="68">    &lt;/Sunburst<span class="op">&gt;</span></a>
<a class="sourceLine" id="sunburst-chart.js-69" data-line-number="69">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="sunburst-chart.js-70" data-line-number="70">  )</a>
<a class="sourceLine" id="sunburst-chart.js-71" data-line-number="71"></a>
<a class="sourceLine" id="sunburst-chart.js-72" data-line-number="72">  <span class="kw">function</span> <span class="at">determineColor</span> (node) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-73" data-line-number="73">    <span class="cf">if</span> (<span class="va">focusPath</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="va">node</span>.<span class="at">checked</span>) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-74" data-line-number="74">      <span class="cf">if</span> (<span class="op">!</span><span class="va">node</span>.<span class="at">color</span>) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-75" data-line-number="75">       <span class="co">// return node.color = node.color</span></a>
<a class="sourceLine" id="sunburst-chart.js-76" data-line-number="76">       <span class="va">node</span>.<span class="at">checked</span> <span class="op">=</span> <span class="kw">true</span></a>
<a class="sourceLine" id="sunburst-chart.js-77" data-line-number="77">       <span class="cf">return</span> <span class="va">node</span>.<span class="at">color</span> <span class="op">=</span> <span class="st">&#39;rgba(255,255,255,0.1)&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-78" data-line-number="78">      <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="va">node</span>.<span class="at">parent</span> <span class="op">&amp;&amp;</span> <span class="at">includes</span>(focusPath<span class="op">,</span> <span class="va">node</span>.<span class="at">name</span>) <span class="op">&amp;&amp;</span> <span class="at">includes</span>(focusPath<span class="op">,</span> <span class="va">node</span>.<span class="va">parent</span>.<span class="va">data</span>.<span class="at">name</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-79" data-line-number="79">        <span class="va">node</span>.<span class="at">checked</span> <span class="op">=</span> <span class="kw">true</span></a>
<a class="sourceLine" id="sunburst-chart.js-80" data-line-number="80">        <span class="kw">var</span> brightColor <span class="op">=</span> <span class="at">fadeColor</span>(<span class="va">node</span>.<span class="at">color</span><span class="op">,</span> <span class="st">&#39;1&#39;</span>)</a>
<a class="sourceLine" id="sunburst-chart.js-81" data-line-number="81">        <span class="cf">return</span> <span class="va">node</span>.<span class="at">color</span> <span class="op">=</span> brightColor</a>
<a class="sourceLine" id="sunburst-chart.js-82" data-line-number="82">       <span class="co">// return node.color = &#39;rgba(255,218,185,1)&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-83" data-line-number="83">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-84" data-line-number="84">        <span class="kw">var</span> fadedColor <span class="op">=</span> <span class="at">fadeColor</span>(<span class="va">node</span>.<span class="at">color</span><span class="op">,</span> <span class="st">&#39;0.1&#39;</span>)</a>
<a class="sourceLine" id="sunburst-chart.js-85" data-line-number="85">        <span class="va">node</span>.<span class="at">checked</span> <span class="op">=</span> <span class="kw">true</span></a>
<a class="sourceLine" id="sunburst-chart.js-86" data-line-number="86"><span class="co">//         return node.color = &#39;rgba(255,218,185,1)&#39;</span></a>
<a class="sourceLine" id="sunburst-chart.js-87" data-line-number="87">        <span class="cf">return</span> <span class="va">node</span>.<span class="at">color</span> <span class="op">=</span> fadedColor</a>
<a class="sourceLine" id="sunburst-chart.js-88" data-line-number="88"></a>
<a class="sourceLine" id="sunburst-chart.js-89" data-line-number="89">        <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-90" data-line-number="90">      <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-91" data-line-number="91">    <span class="va">node</span>.<span class="at">checked</span> <span class="op">=</span> <span class="kw">false</span></a>
<a class="sourceLine" id="sunburst-chart.js-92" data-line-number="92">    <span class="cf">return</span> <span class="va">node</span>.<span class="at">color</span></a>
<a class="sourceLine" id="sunburst-chart.js-93" data-line-number="93">    <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-94" data-line-number="94"></a>
<a class="sourceLine" id="sunburst-chart.js-95" data-line-number="95">  <span class="kw">function</span> <span class="at">handleMouseOver</span> (node<span class="op">,</span> event) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-96" data-line-number="96">    <span class="cf">if</span> (<span class="op">!</span>chartLocked) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-97" data-line-number="97">      <span class="at">focusChart</span>(<span class="at">getKeyPath</span>(node))</a>
<a class="sourceLine" id="sunburst-chart.js-98" data-line-number="98">    <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-99" data-line-number="99">  <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-100" data-line-number="100"></a>
<a class="sourceLine" id="sunburst-chart.js-101" data-line-number="101">  <span class="kw">function</span> <span class="at">handleMouseOut</span> () <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-102" data-line-number="102">    <span class="cf">if</span> (<span class="op">!</span>chartLocked) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-103" data-line-number="103">      <span class="at">unfocusChart</span>()</a>
<a class="sourceLine" id="sunburst-chart.js-104" data-line-number="104">    <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-105" data-line-number="105">  <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-106" data-line-number="106"></a>
<a class="sourceLine" id="sunburst-chart.js-107" data-line-number="107">  <span class="kw">function</span> <span class="at">handleClick</span> () <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-108" data-line-number="108">    <span class="cf">if</span> (chartLocked)<span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-109" data-line-number="109">      <span class="at">unlockChart</span>()</a>
<a class="sourceLine" id="sunburst-chart.js-110" data-line-number="110">    <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="op">!</span>chartLocked <span class="op">&amp;&amp;</span> <span class="va">focusPath</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">3</span>) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-111" data-line-number="111">       <span class="kw">var</span> endpointTests <span class="op">=</span> <span class="at">getEndpointTests</span>(focusPath)</a>
<a class="sourceLine" id="sunburst-chart.js-112" data-line-number="112">       <span class="at">setEndpointTests</span>(endpointTests)</a>
<a class="sourceLine" id="sunburst-chart.js-113" data-line-number="113">      <span class="at">lockChart</span>()</a>
<a class="sourceLine" id="sunburst-chart.js-114" data-line-number="114">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-115" data-line-number="115">      <span class="at">lockChart</span>()</a>
<a class="sourceLine" id="sunburst-chart.js-116" data-line-number="116">    <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-117" data-line-number="117">  <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-118" data-line-number="118"></a>
<a class="sourceLine" id="sunburst-chart.js-119" data-line-number="119">  <span class="kw">function</span> <span class="at">getKeyPath</span> (node) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-120" data-line-number="120">    <span class="cf">if</span> (<span class="op">!</span><span class="va">node</span>.<span class="at">parent</span>) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-121" data-line-number="121">      <span class="cf">return</span> [<span class="st">&#39;root&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="sunburst-chart.js-122" data-line-number="122">    <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-123" data-line-number="123">    <span class="kw">var</span> nodeKey <span class="op">=</span> <span class="at">get</span>(node<span class="op">,</span> <span class="st">&#39;data.name&#39;</span>) <span class="op">||</span> <span class="at">get</span>(node<span class="op">,</span> <span class="st">&#39;name&#39;</span>)</a>
<a class="sourceLine" id="sunburst-chart.js-124" data-line-number="124">    <span class="kw">var</span> parentKeyPath <span class="op">=</span> <span class="at">getKeyPath</span>(<span class="va">node</span>.<span class="at">parent</span>)</a>
<a class="sourceLine" id="sunburst-chart.js-125" data-line-number="125">    <span class="cf">return</span> [...<span class="at">parentKeyPath</span><span class="op">,</span> nodeKey]</a>
<a class="sourceLine" id="sunburst-chart.js-126" data-line-number="126">  <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-127" data-line-number="127"></a>
<a class="sourceLine" id="sunburst-chart.js-128" data-line-number="128">  <span class="kw">function</span> <span class="at">getEndpointTests</span> (focusPath) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-129" data-line-number="129">    <span class="kw">var</span> endpointTests <span class="op">=</span> []</a>
<a class="sourceLine" id="sunburst-chart.js-130" data-line-number="130">    <span class="kw">var</span> pathSansRoot <span class="op">=</span> <span class="at">without</span>(focusPath<span class="op">,</span> <span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="sunburst-chart.js-131" data-line-number="131">    <span class="kw">var</span> lockedEndpoint <span class="op">=</span> <span class="at">get</span>(endpoints<span class="op">,</span> pathSansRoot)</a>
<a class="sourceLine" id="sunburst-chart.js-132" data-line-number="132">    <span class="at">forEach</span>(lockedEndpoint<span class="op">,</span> (method) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-133" data-line-number="133">      <span class="cf">for</span> (<span class="kw">var</span> test of <span class="va">method</span>.<span class="at">tests</span>) <span class="op">{</span></a>
<a class="sourceLine" id="sunburst-chart.js-134" data-line-number="134">        <span class="va">endpointTests</span>.<span class="at">push</span>(test)</a>
<a class="sourceLine" id="sunburst-chart.js-135" data-line-number="135">      <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-136" data-line-number="136">    <span class="op">}</span>)</a>
<a class="sourceLine" id="sunburst-chart.js-137" data-line-number="137">    <span class="cf">return</span> <span class="at">uniq</span>(endpointTests)</a>
<a class="sourceLine" id="sunburst-chart.js-138" data-line-number="138">  <span class="op">}</span></a>
<a class="sourceLine" id="sunburst-chart.js-139" data-line-number="139"><span class="op">}</span></a></code></pre></div></li>
<li><p>The Fucking Colors</p>
<p>all colors are RGBA with an opacity of 1. We never have hex codes. When we load them up the first time, we check if they are tested but not conformant, then we change the opacity to 0.3. THen, when we hover over, if it is part of the keypath, we keep it as is.. If not, we change its opacity from either 0.3 or 1 to 0.1 (it doesn't matter, we just take the last one in the (2,3,4,1) part of the rgba.</p>
<p>This means we only have a single function that takes the color and the opacity we want to set it to, i.e. fade(node.color, 0.3) or fade(node.color, 0.1)</p>
<p>So that fade function would look something like: fade (rgba, desiredOpacity) { rgbaAsArray = rgba minus the rgba part, with the parentheses split by comma. }</p>
<div class="sourceCode" id="PSEUDO CODE!!!" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="PSEUDO CODE!!!-1" data-line-number="1"><span class="kw">function</span> <span class="at">fade</span> (rgba<span class="op">,</span> desiredOpacity) <span class="op">{</span></a>
<a class="sourceLine" id="PSEUDO CODE!!!-2" data-line-number="2">  <span class="kw">var</span> rgbaParts <span class="op">=</span> <span class="at">words</span>(rgba)</a>
<a class="sourceLine" id="PSEUDO CODE!!!-3" data-line-number="3">  <span class="va">rgbaParts</span>.<span class="at">pop</span>()</a>
<a class="sourceLine" id="PSEUDO CODE!!!-4" data-line-number="4">  <span class="va">rgbaParts</span>.<span class="at">push</span>(desiredOpacity)</a>
<a class="sourceLine" id="PSEUDO CODE!!!-5" data-line-number="5">  <span class="kw">var</span> newRgbaString <span class="op">=</span> <span class="va">rgbaParts</span>.<span class="at">join</span>(<span class="st">&#39;,&#39;</span>)</a>
<a class="sourceLine" id="PSEUDO CODE!!!-6" data-line-number="6">  <span class="kw">var</span> newRgba <span class="op">=</span> <span class="va">newRgbaString</span>.<span class="at">replace</span>(<span class="ss">/,/</span><span class="op">,</span><span class="st">&#39;(&#39;</span>) <span class="op">+</span> <span class="st">&#39;)&#39;</span></a>
<a class="sourceLine" id="PSEUDO CODE!!!-7" data-line-number="7"><span class="op">}</span></a>
<a class="sourceLine" id="PSEUDO CODE!!!-8" data-line-number="8"><span class="at">fade</span>(<span class="st">&#39;RGBA(255, 152, 0, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;0.2&#39;</span>)</a></code></pre></div></li>
</ol>
<h3 id="filter-list">Filter List</h3>
<div class="sourceCode" id="filters-list.js" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="filters-list.js-1" data-line-number="1"><span class="im">import</span> React<span class="op">,</span> <span class="op">{</span> Component <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="filters-list.js-2" data-line-number="2"></a>
<a class="sourceLine" id="filters-list.js-3" data-line-number="3"><span class="kw">class</span> FiltersList <span class="kw">extends</span> Component <span class="op">{</span></a>
<a class="sourceLine" id="filters-list.js-4" data-line-number="4">  <span class="at">constructor</span> (props) <span class="op">{</span></a>
<a class="sourceLine" id="filters-list.js-5" data-line-number="5">    <span class="kw">super</span>(props)</a>
<a class="sourceLine" id="filters-list.js-6" data-line-number="6">    <span class="kw">this</span>.<span class="at">optionsList</span> <span class="op">=</span> <span class="kw">this</span>.<span class="va">optionsList</span>.<span class="at">bind</span>(<span class="kw">this</span>)</a>
<a class="sourceLine" id="filters-list.js-7" data-line-number="7">  <span class="op">}</span></a>
<a class="sourceLine" id="filters-list.js-8" data-line-number="8"></a>
<a class="sourceLine" id="filters-list.js-9" data-line-number="9">  <span class="at">optionsList</span> (options) <span class="op">{</span></a>
<a class="sourceLine" id="filters-list.js-10" data-line-number="10">     <span class="kw">var</span> formattedNames <span class="op">=</span> <span class="va">options</span>.<span class="at">map</span>(name <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="filters-list.js-11" data-line-number="11">       <span class="cf">return</span> <span class="va">name</span>.<span class="at">replace</span>(<span class="ss">/</span><span class="sc">[\[\]]</span><span class="ss">/g</span><span class="op">,</span><span class="st">&#39;&#39;</span>).<span class="at">replace</span>(<span class="ss">/_/g</span><span class="op">,</span><span class="st">&#39;.&#39;</span>)</a>
<a class="sourceLine" id="filters-list.js-12" data-line-number="12">     <span class="op">}</span>)</a>
<a class="sourceLine" id="filters-list.js-13" data-line-number="13">    <span class="kw">var</span> selected <span class="op">=</span> <span class="kw">this</span>.<span class="va">props</span>.<span class="va">selected</span>.<span class="at">map</span>(selection <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="filters-list.js-14" data-line-number="14">      <span class="cf">return</span> <span class="va">selection</span>.<span class="at">replace</span>(<span class="ss">/_/g</span><span class="op">,</span><span class="st">&#39;.&#39;</span>) <span class="co">//.replace(/^/,&#39;[&#39;).replace(/$/,&#39;]&#39;)</span></a>
<a class="sourceLine" id="filters-list.js-15" data-line-number="15">    <span class="op">}</span>)</a>
<a class="sourceLine" id="filters-list.js-16" data-line-number="16">    <span class="cf">return</span> <span class="va">formattedNames</span>.<span class="at">map</span>(name <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="filters-list.js-17" data-line-number="17">      <span class="cf">if</span> (<span class="va">selected</span>.<span class="at">includes</span>(name)) <span class="op">{</span></a>
<a class="sourceLine" id="filters-list.js-18" data-line-number="18">        <span class="cf">return</span>(</a>
<a class="sourceLine" id="filters-list.js-19" data-line-number="19">            <span class="op">&lt;</span>a className<span class="op">=</span><span class="st">&quot;f6 ml1 mr1 grow no-underline br-pill ba ph2 pv2 mb2 dib pink&quot;</span> href<span class="op">=</span><span class="st">&quot;#0&quot;</span> key<span class="op">={</span><span class="vs">`filter_</span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">`</span><span class="op">}&gt;{</span>name<span class="op">}</span>&lt;/a<span class="op">&gt;</span></a>
<a class="sourceLine" id="filters-list.js-20" data-line-number="20">        )</a>
<a class="sourceLine" id="filters-list.js-21" data-line-number="21">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="filters-list.js-22" data-line-number="22">        <span class="cf">return</span> (</a>
<a class="sourceLine" id="filters-list.js-23" data-line-number="23">            <span class="op">&lt;</span>a className<span class="op">=</span><span class="st">&quot;f6 ml1 mr1 grow no-underline br-pill ba ph2 pv2 mb2 dib silver&quot;</span> href<span class="op">=</span><span class="st">&quot;#0&quot;</span> key<span class="op">={</span><span class="vs">`filter_</span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">`</span><span class="op">}&gt;{</span>name<span class="op">}</span>&lt;/a<span class="op">&gt;</span></a>
<a class="sourceLine" id="filters-list.js-24" data-line-number="24">        )</a>
<a class="sourceLine" id="filters-list.js-25" data-line-number="25">      <span class="op">}</span></a>
<a class="sourceLine" id="filters-list.js-26" data-line-number="26">    <span class="op">}</span>)</a>
<a class="sourceLine" id="filters-list.js-27" data-line-number="27">  <span class="op">}</span></a>
<a class="sourceLine" id="filters-list.js-28" data-line-number="28"></a>
<a class="sourceLine" id="filters-list.js-29" data-line-number="29">    <span class="at">render</span> () <span class="op">{</span></a>
<a class="sourceLine" id="filters-list.js-30" data-line-number="30">      <span class="va">console</span>.<span class="at">log</span>(<span class="op">{</span><span class="dt">filterProps</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">props</span><span class="op">}</span>)</a>
<a class="sourceLine" id="filters-list.js-31" data-line-number="31">      <span class="cf">return</span> (</a>
<a class="sourceLine" id="filters-list.js-32" data-line-number="32">          <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&quot;ph3 mt4&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="filters-list.js-33" data-line-number="33">          <span class="op">&lt;</span>h1 className<span class="op">=</span><span class="st">&quot;f6 fw6 ttu tracked&quot;</span><span class="op">&gt;{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">context</span><span class="op">}</span>&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="filters-list.js-34" data-line-number="34">          <span class="op">{</span><span class="kw">this</span>.<span class="at">optionsList</span>(<span class="kw">this</span>.<span class="va">props</span>.<span class="at">options</span>)<span class="op">}</span></a>
<a class="sourceLine" id="filters-list.js-35" data-line-number="35">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="filters-list.js-36" data-line-number="36">      )</a>
<a class="sourceLine" id="filters-list.js-37" data-line-number="37">    <span class="op">}</span></a>
<a class="sourceLine" id="filters-list.js-38" data-line-number="38">  <span class="op">}</span></a>
<a class="sourceLine" id="filters-list.js-39" data-line-number="39"></a>
<a class="sourceLine" id="filters-list.js-40" data-line-number="40">  <span class="im">export</span> <span class="im">default</span> FiltersList</a></code></pre></div>
<p>Is expecting:</p>
<dl>
<dt>context</dt>
<dd>a string that determines the header of the list
</dd>
<dt>selected</dt>
<dd>an array of strings, for the options selected by default
</dd>
<dt>options</dt>
<dd>an array of options we will create buttons for.
</dd>
</dl>
<h3 id="releases-list">Releases List</h3>
<div class="sourceCode" id="releases-list.js" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="releases-list.js-1" data-line-number="1"><span class="im">import</span> React<span class="op">,</span> <span class="op">{</span> Component <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="releases-list.js-2" data-line-number="2"></a>
<a class="sourceLine" id="releases-list.js-3" data-line-number="3"><span class="kw">class</span> ReleasesList <span class="kw">extends</span> Component <span class="op">{</span></a>
<a class="sourceLine" id="releases-list.js-4" data-line-number="4">  <span class="at">constructor</span> (props) <span class="op">{</span></a>
<a class="sourceLine" id="releases-list.js-5" data-line-number="5">    <span class="kw">super</span>(props)</a>
<a class="sourceLine" id="releases-list.js-6" data-line-number="6">    <span class="kw">this</span>.<span class="at">optionsList</span> <span class="op">=</span> <span class="kw">this</span>.<span class="va">optionsList</span>.<span class="at">bind</span>(<span class="kw">this</span>)</a>
<a class="sourceLine" id="releases-list.js-7" data-line-number="7">  <span class="op">}</span></a>
<a class="sourceLine" id="releases-list.js-8" data-line-number="8"></a>
<a class="sourceLine" id="releases-list.js-9" data-line-number="9">  <span class="at">optionsList</span> (options) <span class="op">{</span></a>
<a class="sourceLine" id="releases-list.js-10" data-line-number="10">    <span class="cf">return</span> <span class="va">options</span>.<span class="at">map</span>(option <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="releases-list.js-11" data-line-number="11">      <span class="cf">return</span>(</a>
<a class="sourceLine" id="releases-list.js-12" data-line-number="12">          <span class="op">&lt;</span>a</a>
<a class="sourceLine" id="releases-list.js-13" data-line-number="13">            className<span class="op">=</span><span class="st">&quot;f6 ml1 mr1 grow no-underline br-pill ba ph2 pv2 mb2 dib pink&quot;</span></a>
<a class="sourceLine" id="releases-list.js-14" data-line-number="14">            href<span class="op">={</span>option<span class="op">}</span></a>
<a class="sourceLine" id="releases-list.js-15" data-line-number="15">            key<span class="op">={</span><span class="vs">`release_</span><span class="sc">${</span>option<span class="sc">}</span><span class="vs">`</span><span class="op">}</span></a>
<a class="sourceLine" id="releases-list.js-16" data-line-number="16">          <span class="op">&gt;</span></a>
<a class="sourceLine" id="releases-list.js-17" data-line-number="17">          <span class="op">{</span>option<span class="op">}</span></a>
<a class="sourceLine" id="releases-list.js-18" data-line-number="18">        &lt;/a<span class="op">&gt;</span></a>
<a class="sourceLine" id="releases-list.js-19" data-line-number="19">      )</a>
<a class="sourceLine" id="releases-list.js-20" data-line-number="20">    <span class="op">}</span>)</a>
<a class="sourceLine" id="releases-list.js-21" data-line-number="21">  <span class="op">}</span></a>
<a class="sourceLine" id="releases-list.js-22" data-line-number="22"></a>
<a class="sourceLine" id="releases-list.js-23" data-line-number="23">  <span class="at">render</span> () <span class="op">{</span></a>
<a class="sourceLine" id="releases-list.js-24" data-line-number="24">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="releases-list.js-25" data-line-number="25">        <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&quot;ph3 mt4&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="releases-list.js-26" data-line-number="26">        <span class="op">&lt;</span>h1 className<span class="op">=</span><span class="st">&quot;f6 fw6 ttu tracked&quot;</span><span class="op">&gt;</span>Releases&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="releases-list.js-27" data-line-number="27">        <span class="op">{</span><span class="kw">this</span>.<span class="at">optionsList</span>(<span class="kw">this</span>.<span class="va">props</span>.<span class="at">releases</span>)<span class="op">}</span></a>
<a class="sourceLine" id="releases-list.js-28" data-line-number="28">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="releases-list.js-29" data-line-number="29">    )</a>
<a class="sourceLine" id="releases-list.js-30" data-line-number="30">  <span class="op">}</span></a>
<a class="sourceLine" id="releases-list.js-31" data-line-number="31"><span class="op">}</span></a>
<a class="sourceLine" id="releases-list.js-32" data-line-number="32"></a>
<a class="sourceLine" id="releases-list.js-33" data-line-number="33"></a>
<a class="sourceLine" id="releases-list.js-34" data-line-number="34"><span class="im">export</span> <span class="im">default</span> ReleasesList</a></code></pre></div>
<p>Is expecting:</p>
<dl>
<dt>context</dt>
<dd>a string that determines the header of the list
</dd>
<dt>selected</dt>
<dd>an array of strings, for the options selected by default
</dd>
<dt>options</dt>
<dd>an array of options we will create buttons
</dd>
</dl>
<h3 id="tests">Tests</h3>
<ol>
<li><p>Tests Container</p>
<p>This would be a two pane container. On one side is the list of tests and the other would be the api endpoints each tests hit.</p>
<p>We are only sending tests that are on the locked-on endpoint. We are sending them as an array of names, and we'll then get more info from them based on our test<sub>sequence</sub> (in our tests store).</p>
<div class="sourceCode" id="Tests Container" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Tests Container-1" data-line-number="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="Tests Container-2" data-line-number="2"><span class="im">import</span> EndpointHitList <span class="im">from</span> <span class="st">&#39;./endpoint-hit-list&#39;</span></a>
<a class="sourceLine" id="Tests Container-3" data-line-number="3"></a>
<a class="sourceLine" id="Tests Container-4" data-line-number="4"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="at">TestsContainer</span> (<span class="op">{</span>activeTest<span class="op">,</span> chartLocked<span class="op">,</span> chooseActiveTest<span class="op">,</span> closeActiveTest<span class="op">,</span> endpointTests<span class="op">,</span> interiorLabel<span class="op">,</span> isTestsReady <span class="op">}</span>) <span class="op">{</span></a>
<a class="sourceLine" id="Tests Container-5" data-line-number="5"></a>
<a class="sourceLine" id="Tests Container-6" data-line-number="6">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="Tests Container-7" data-line-number="7">      <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;test-container&#39;</span> className<span class="op">=</span><span class="st">&quot;cf&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-8" data-line-number="8"></a>
<a class="sourceLine" id="Tests Container-9" data-line-number="9">     <span class="op">{</span>(interiorLabel <span class="op">&amp;&amp;</span> <span class="va">interiorLabel</span>.<span class="at">test_tags</span> <span class="op">&amp;&amp;</span> <span class="op">!</span>chartLocked) <span class="op">&amp;&amp;</span></a>
<a class="sourceLine" id="Tests Container-10" data-line-number="10">     <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;test-tags&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-11" data-line-number="11">      <span class="op">&lt;</span>h2<span class="op">&gt;</span>Test Tags&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-12" data-line-number="12">        <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;list ph3 ph5-ns pv4&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-13" data-line-number="13">          <span class="op">{</span><span class="at">displayTestTags</span>(<span class="va">interiorLabel</span>.<span class="at">test_tags</span>)<span class="op">}</span></a>
<a class="sourceLine" id="Tests Container-14" data-line-number="14">        &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-15" data-line-number="15">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-16" data-line-number="16">     <span class="op">}</span></a>
<a class="sourceLine" id="Tests Container-17" data-line-number="17"></a>
<a class="sourceLine" id="Tests Container-18" data-line-number="18">    <span class="op">{</span>(interiorLabel <span class="op">&amp;&amp;</span> <span class="va">interiorLabel</span>.<span class="at">test_tags</span> <span class="op">&amp;&amp;</span> chartLocked <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="va">activeTest</span>.<span class="at">name</span>) <span class="op">&amp;&amp;</span></a>
<a class="sourceLine" id="Tests Container-19" data-line-number="19">      <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;tests-list&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-20" data-line-number="20">      <span class="op">&lt;</span>h2<span class="op">&gt;</span>Tests&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-21" data-line-number="21">      <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;list ph3 ph5-ns pv4&#39;</span><span class="op">&gt;{</span><span class="at">listTests</span>(endpointTests)<span class="op">}</span>&lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-22" data-line-number="22">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-23" data-line-number="23">    <span class="op">}</span></a>
<a class="sourceLine" id="Tests Container-24" data-line-number="24"></a>
<a class="sourceLine" id="Tests Container-25" data-line-number="25">    <span class="op">{</span>(isTestsReady <span class="op">&amp;&amp;</span> <span class="va">endpointTests</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> activeTest) <span class="op">&amp;&amp;</span></a>
<a class="sourceLine" id="Tests Container-26" data-line-number="26">     <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&#39;hit-list&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-27" data-line-number="27">      <span class="op">&lt;</span>h2<span class="op">&gt;</span><span class="dt">Test</span><span class="op">:</span>&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-28" data-line-number="28">      <span class="op">&lt;</span>EndpointHitList activeTest<span class="op">={</span>activeTest<span class="op">}</span> closeActiveTest<span class="op">={</span>closeActiveTest<span class="op">}</span>/&gt;</a>
<a class="sourceLine" id="Tests Container-29" data-line-number="29">     &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-30" data-line-number="30">    <span class="op">}</span></a>
<a class="sourceLine" id="Tests Container-31" data-line-number="31">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-32" data-line-number="32">  )</a>
<a class="sourceLine" id="Tests Container-33" data-line-number="33"></a>
<a class="sourceLine" id="Tests Container-34" data-line-number="34"> <span class="kw">function</span> <span class="at">displayTestTags</span> (testTags) <span class="op">{</span></a>
<a class="sourceLine" id="Tests Container-35" data-line-number="35">   <span class="cf">return</span> <span class="va">testTags</span>.<span class="at">map</span>(testTag <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Container-36" data-line-number="36">     <span class="cf">return</span> (<span class="op">&lt;</span>li key<span class="op">={</span>testTag<span class="op">}</span> className<span class="op">=</span><span class="st">&#39;dib mr1 mb1&#39;</span> <span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-37" data-line-number="37">             <span class="op">&lt;</span>p className<span class="op">=</span><span class="st">&#39;f7 f6-ns b db pa0&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-38" data-line-number="38">             <span class="op">{</span>testTag<span class="op">}</span></a>
<a class="sourceLine" id="Tests Container-39" data-line-number="39">             &lt;/p<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-40" data-line-number="40">             &lt;/li<span class="op">&gt;</span>)</a>
<a class="sourceLine" id="Tests Container-41" data-line-number="41">   <span class="op">}</span>)</a>
<a class="sourceLine" id="Tests Container-42" data-line-number="42"> <span class="op">}</span></a>
<a class="sourceLine" id="Tests Container-43" data-line-number="43"></a>
<a class="sourceLine" id="Tests Container-44" data-line-number="44">  <span class="kw">function</span> <span class="at">listTests</span> (endpointTests) <span class="op">{</span></a>
<a class="sourceLine" id="Tests Container-45" data-line-number="45">    <span class="cf">return</span> <span class="va">endpointTests</span>.<span class="at">map</span>(test <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Container-46" data-line-number="46">      <span class="kw">var</span> testKey <span class="op">=</span> <span class="st">&#39;test_&#39;</span> <span class="op">+</span> <span class="va">endpointTests</span>.<span class="at">indexOf</span>(test)</a>
<a class="sourceLine" id="Tests Container-47" data-line-number="47">      <span class="cf">return</span> <span class="op">&lt;</span>li key<span class="op">={</span>testKey<span class="op">}</span></a>
<a class="sourceLine" id="Tests Container-48" data-line-number="48">               onClick<span class="op">={</span>() <span class="op">=&gt;</span><span class="at">handleClick</span>(test)<span class="op">}</span></a>
<a class="sourceLine" id="Tests Container-49" data-line-number="49">      className<span class="op">=</span><span class="st">&#39;f6 f5-ns b db pa2 link dim dark-gray ba b--black-20 magic-pointer&#39;</span></a>
<a class="sourceLine" id="Tests Container-50" data-line-number="50">             <span class="op">&gt;{</span>test<span class="op">}</span>&lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="Tests Container-51" data-line-number="51">    <span class="op">}</span>)</a>
<a class="sourceLine" id="Tests Container-52" data-line-number="52">  <span class="op">}</span></a>
<a class="sourceLine" id="Tests Container-53" data-line-number="53"></a>
<a class="sourceLine" id="Tests Container-54" data-line-number="54">  <span class="kw">function</span> <span class="at">handleClick</span> (test) <span class="op">{</span></a>
<a class="sourceLine" id="Tests Container-55" data-line-number="55">    <span class="at">chooseActiveTest</span>(test)</a>
<a class="sourceLine" id="Tests Container-56" data-line-number="56">  <span class="op">}</span></a>
<a class="sourceLine" id="Tests Container-57" data-line-number="57"><span class="op">}</span></a></code></pre></div></li>
<li><p>Endpoint Hit List</p>
<p>Takes the activeTest selector, which includes the test Name, it's ID, and its sequence.</p>
<div class="sourceCode" id="Endpoint Hit List" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Endpoint Hit List-1" data-line-number="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span></a>
<a class="sourceLine" id="Endpoint Hit List-2" data-line-number="2"><span class="im">import</span> <span class="op">{</span> size <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;lodash&#39;</span></a>
<a class="sourceLine" id="Endpoint Hit List-3" data-line-number="3"><span class="im">import</span> dayjs <span class="im">from</span> <span class="st">&#39;dayjs&#39;</span></a>
<a class="sourceLine" id="Endpoint Hit List-4" data-line-number="4"></a>
<a class="sourceLine" id="Endpoint Hit List-5" data-line-number="5"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="at">EndpointHitList</span>(<span class="op">{</span>activeTest<span class="op">,</span> closeActiveTest<span class="op">}</span>) <span class="op">{</span></a>
<a class="sourceLine" id="Endpoint Hit List-6" data-line-number="6">  <span class="cf">if</span> (<span class="at">size</span>(activeTest) <span class="op">&lt;=</span> <span class="dv">0</span>) <span class="cf">return</span> <span class="kw">null</span></a>
<a class="sourceLine" id="Endpoint Hit List-7" data-line-number="7"></a>
<a class="sourceLine" id="Endpoint Hit List-8" data-line-number="8">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="Endpoint Hit List-9" data-line-number="9">      <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&#39;pa2&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Endpoint Hit List-10" data-line-number="10">      <span class="op">&lt;</span>h3<span class="op">&gt;{</span><span class="va">activeTest</span>.<span class="at">name</span><span class="op">}</span>&lt;/h3<span class="op">&gt;</span></a>
<a class="sourceLine" id="Endpoint Hit List-11" data-line-number="11">      <span class="op">&lt;</span>button onClick<span class="op">={</span>handleClick<span class="op">}&gt;</span>close&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="Endpoint Hit List-12" data-line-number="12">      <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;list ph3 ph5-ns pv4&#39;</span><span class="op">&gt;{</span><span class="at">listEndpoints</span>(<span class="va">activeTest</span>.<span class="at">sequence</span>)<span class="op">}</span>&lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="Endpoint Hit List-13" data-line-number="13">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="Endpoint Hit List-14" data-line-number="14">  )</a>
<a class="sourceLine" id="Endpoint Hit List-15" data-line-number="15"></a>
<a class="sourceLine" id="Endpoint Hit List-16" data-line-number="16">  <span class="kw">function</span> <span class="at">listEndpoints</span> (sequence) <span class="op">{</span></a>
<a class="sourceLine" id="Endpoint Hit List-17" data-line-number="17">    <span class="cf">return</span> <span class="va">sequence</span>.<span class="at">map</span>(data <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoint Hit List-18" data-line-number="18">      <span class="kw">var</span> step <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoint Hit List-19" data-line-number="19">        <span class="dt">timestamp</span><span class="op">:</span> <span class="at">dayjs</span>(data[<span class="dv">0</span>]).<span class="at">format</span>(<span class="st">&#39;HH:mm:ss&#39;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="Endpoint Hit List-20" data-line-number="20">        <span class="dt">level</span><span class="op">:</span> data[<span class="dv">1</span>]<span class="op">,</span></a>
<a class="sourceLine" id="Endpoint Hit List-21" data-line-number="21">        <span class="dt">category</span><span class="op">:</span> data[<span class="dv">2</span>]<span class="op">,</span></a>
<a class="sourceLine" id="Endpoint Hit List-22" data-line-number="22">        <span class="dt">method</span><span class="op">:</span> data[<span class="dv">3</span>]<span class="op">,</span></a>
<a class="sourceLine" id="Endpoint Hit List-23" data-line-number="23">        <span class="dt">endpoint</span><span class="op">:</span> data[<span class="dv">4</span>]</a>
<a class="sourceLine" id="Endpoint Hit List-24" data-line-number="24">      <span class="op">}</span></a>
<a class="sourceLine" id="Endpoint Hit List-25" data-line-number="25">      <span class="kw">var</span> stepKey <span class="op">=</span> <span class="vs">`</span><span class="sc">${</span><span class="va">sequence</span>.<span class="at">indexOf</span>(data)<span class="sc">}</span><span class="vs">_</span><span class="sc">${</span><span class="va">step</span>.<span class="at">timestamp</span><span class="sc">}</span><span class="vs">`</span></a>
<a class="sourceLine" id="Endpoint Hit List-26" data-line-number="26">      <span class="cf">return</span>(</a>
<a class="sourceLine" id="Endpoint Hit List-27" data-line-number="27">          <span class="op">&lt;</span>li key<span class="op">={</span>stepKey<span class="op">}</span> className<span class="op">=</span><span class="st">&#39;f6 f5-ns b db pa2 link dim dark-gray ba b--black-20&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="Endpoint Hit List-28" data-line-number="28">          <span class="op">&lt;</span>em<span class="op">&gt;{</span><span class="va">step</span>.<span class="at">timestamp</span><span class="op">}</span>&lt;/em<span class="op">&gt;</span> <span class="op">-</span> <span class="op">&lt;</span>em<span class="op">&gt;{</span><span class="va">step</span>.<span class="at">method</span><span class="op">}</span>&lt;/em<span class="op">&gt;</span> <span class="op">-</span> <span class="op">{</span><span class="va">step</span>.<span class="at">level</span><span class="op">}</span> <span class="ss">/ {step.category} /</span> <span class="op">{</span><span class="va">step</span>.<span class="at">endpoint</span><span class="op">}</span></a>
<a class="sourceLine" id="Endpoint Hit List-29" data-line-number="29">          &lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="Endpoint Hit List-30" data-line-number="30">      )</a>
<a class="sourceLine" id="Endpoint Hit List-31" data-line-number="31">    <span class="op">}</span>)</a>
<a class="sourceLine" id="Endpoint Hit List-32" data-line-number="32">  <span class="op">}</span></a>
<a class="sourceLine" id="Endpoint Hit List-33" data-line-number="33">  <span class="kw">function</span> <span class="at">handleClick</span>() <span class="op">{</span></a>
<a class="sourceLine" id="Endpoint Hit List-34" data-line-number="34">    <span class="at">closeActiveTest</span>()</a>
<a class="sourceLine" id="Endpoint Hit List-35" data-line-number="35">  <span class="op">}</span></a>
<a class="sourceLine" id="Endpoint Hit List-36" data-line-number="36"><span class="op">}</span></a></code></pre></div></li>
</ol>
<h2 id="lib">Lib</h2>
<h3 id="service-workers">Service workers</h3>
<div class="sourceCode" id="cb2" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co">// In production, we register a service worker to serve assets from local cache.</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">// This lets the app load faster on subsequent visits in production, and gives</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">// it offline capabilities. However, it also means that developers (and users)</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">// will only see deployed updates on the &quot;N+1&quot; visit to a page, since previously</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">// cached resources are updated in the background.</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">// This link also includes instructions on opting out of this behavior.</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="kw">const</span> isLocalhost <span class="op">=</span> <span class="at">Boolean</span>(</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">  <span class="va">window</span>.<span class="va">location</span>.<span class="at">hostname</span> <span class="op">===</span> <span class="st">&#39;localhost&#39;</span> <span class="op">||</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13">    <span class="co">// [::1] is the IPv6 localhost address.</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14">  <span class="va">window</span>.<span class="va">location</span>.<span class="at">hostname</span> <span class="op">===</span> <span class="st">&#39;[::1]&#39;</span> <span class="op">||</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15">    <span class="co">// 127.0.0.1/8 is considered localhost for IPv4.</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16">  <span class="va">window</span>.<span class="va">location</span>.<span class="va">hostname</span>.<span class="at">match</span>(</a>
<a class="sourceLine" id="cb2-17" data-line-number="17">    <span class="ss">/</span><span class="sc">^</span><span class="ss">127</span><span class="sc">(?</span><span class="ss">:</span><span class="sc">\.(?</span><span class="ss">:25</span><span class="sc">[0-5]|</span><span class="ss">2</span><span class="sc">[0-4][0-9]|[01]?[0-9][0-9]?)){3}$</span><span class="ss">/</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18">  )</a>
<a class="sourceLine" id="cb2-19" data-line-number="19">)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="at">register</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22">  <span class="cf">if</span> (<span class="va">process</span>.<span class="va">env</span>.<span class="at">NODE_ENV</span> <span class="op">===</span> <span class="st">&#39;production&#39;</span> <span class="op">&amp;&amp;</span> <span class="st">&#39;serviceWorker&#39;</span> <span class="kw">in</span> navigator) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23">    <span class="co">// The URL constructor is available in all browsers that support SW.</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24">    <span class="kw">const</span> publicUrl <span class="op">=</span> <span class="kw">new</span> <span class="at">URL</span>(<span class="va">process</span>.<span class="va">env</span>.<span class="at">PUBLIC_URL</span><span class="op">,</span> <span class="va">window</span>.<span class="at">location</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-25" data-line-number="25">    <span class="cf">if</span> (<span class="va">publicUrl</span>.<span class="at">origin</span> <span class="op">!==</span> <span class="va">window</span>.<span class="va">location</span>.<span class="at">origin</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26">      <span class="co">// Our service worker won&#39;t work if PUBLIC_URL is on a different origin</span></a>
<a class="sourceLine" id="cb2-27" data-line-number="27">      <span class="co">// from what our page is served on. This might happen if a CDN is used to</span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28">      <span class="co">// serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374</span></a>
<a class="sourceLine" id="cb2-29" data-line-number="29">      <span class="cf">return</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-30" data-line-number="30">    <span class="op">}</span></a>
<a class="sourceLine" id="cb2-31" data-line-number="31"></a>
<a class="sourceLine" id="cb2-32" data-line-number="32">    <span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&#39;load&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-33" data-line-number="33">      <span class="kw">const</span> swUrl <span class="op">=</span> <span class="vs">`</span><span class="sc">${</span><span class="va">process</span>.<span class="va">env</span>.<span class="at">PUBLIC_URL</span><span class="sc">}</span><span class="vs">/service-worker.js`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-34" data-line-number="34"></a>
<a class="sourceLine" id="cb2-35" data-line-number="35">      <span class="cf">if</span> (<span class="op">!</span>isLocalhost) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-36" data-line-number="36">        <span class="co">// Is not local host. Just register service worker</span></a>
<a class="sourceLine" id="cb2-37" data-line-number="37">        <span class="at">registerValidSW</span>(swUrl)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-38" data-line-number="38">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-39" data-line-number="39">        <span class="co">// This is running on localhost. Lets check if a service worker still exists or not.</span></a>
<a class="sourceLine" id="cb2-40" data-line-number="40">        <span class="at">checkValidServiceWorker</span>(swUrl)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-41" data-line-number="41">      <span class="op">}</span></a>
<a class="sourceLine" id="cb2-42" data-line-number="42">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-43" data-line-number="43">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-44" data-line-number="44"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-45" data-line-number="45"></a>
<a class="sourceLine" id="cb2-46" data-line-number="46"><span class="kw">function</span> <span class="at">registerValidSW</span>(swUrl) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-47" data-line-number="47">  <span class="va">navigator</span>.<span class="at">serviceWorker</span></a>
<a class="sourceLine" id="cb2-48" data-line-number="48">    .<span class="at">register</span>(swUrl)</a>
<a class="sourceLine" id="cb2-49" data-line-number="49">    .<span class="at">then</span>(registration <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-50" data-line-number="50">      <span class="va">registration</span>.<span class="at">onupdatefound</span> <span class="op">=</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-51" data-line-number="51">        <span class="kw">const</span> installingWorker <span class="op">=</span> <span class="va">registration</span>.<span class="at">installing</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-52" data-line-number="52">        <span class="va">installingWorker</span>.<span class="at">onstatechange</span> <span class="op">=</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-53" data-line-number="53">          <span class="cf">if</span> (<span class="va">installingWorker</span>.<span class="at">state</span> <span class="op">===</span> <span class="st">&#39;installed&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-54" data-line-number="54">            <span class="cf">if</span> (<span class="va">navigator</span>.<span class="va">serviceWorker</span>.<span class="at">controller</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-55" data-line-number="55">              <span class="co">// At this point, the old content will have been purged and</span></a>
<a class="sourceLine" id="cb2-56" data-line-number="56">              <span class="co">// the fresh content will have been added to the cache.</span></a>
<a class="sourceLine" id="cb2-57" data-line-number="57">              <span class="co">// It&#39;s the perfect time to display a &quot;New content is</span></a>
<a class="sourceLine" id="cb2-58" data-line-number="58">              <span class="co">// available; please refresh.&quot; message in your web app.</span></a>
<a class="sourceLine" id="cb2-59" data-line-number="59">              <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;New content is available; please refresh.&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-60" data-line-number="60">            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-61" data-line-number="61">              <span class="co">// At this point, everything has been precached.</span></a>
<a class="sourceLine" id="cb2-62" data-line-number="62">              <span class="co">// It&#39;s the perfect time to display a</span></a>
<a class="sourceLine" id="cb2-63" data-line-number="63">              <span class="co">// &quot;Content is cached for offline use.&quot; message.</span></a>
<a class="sourceLine" id="cb2-64" data-line-number="64">              <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;Content is cached for offline use.&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-65" data-line-number="65">            <span class="op">}</span></a>
<a class="sourceLine" id="cb2-66" data-line-number="66">          <span class="op">}</span></a>
<a class="sourceLine" id="cb2-67" data-line-number="67">        <span class="op">};</span></a>
<a class="sourceLine" id="cb2-68" data-line-number="68">      <span class="op">};</span></a>
<a class="sourceLine" id="cb2-69" data-line-number="69">    <span class="op">}</span>)</a>
<a class="sourceLine" id="cb2-70" data-line-number="70">    .<span class="at">catch</span>(error <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-71" data-line-number="71">      <span class="va">console</span>.<span class="at">error</span>(<span class="st">&#39;Error during service worker registration:&#39;</span><span class="op">,</span> error)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-72" data-line-number="72">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-73" data-line-number="73"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-74" data-line-number="74"></a>
<a class="sourceLine" id="cb2-75" data-line-number="75"><span class="kw">function</span> <span class="at">checkValidServiceWorker</span>(swUrl) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-76" data-line-number="76">  <span class="co">// Check if the service worker can be found. If it can&#39;t reload the page.</span></a>
<a class="sourceLine" id="cb2-77" data-line-number="77">  <span class="at">fetch</span>(swUrl)</a>
<a class="sourceLine" id="cb2-78" data-line-number="78">    .<span class="at">then</span>(response <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-79" data-line-number="79">      <span class="co">// Ensure service worker exists, and that we really are getting a JS file.</span></a>
<a class="sourceLine" id="cb2-80" data-line-number="80">      <span class="cf">if</span> (</a>
<a class="sourceLine" id="cb2-81" data-line-number="81">        <span class="va">response</span>.<span class="at">status</span> <span class="op">===</span> <span class="dv">404</span> <span class="op">||</span></a>
<a class="sourceLine" id="cb2-82" data-line-number="82">          <span class="va">response</span>.<span class="va">headers</span>.<span class="at">get</span>(<span class="st">&#39;content-type&#39;</span>).<span class="at">indexOf</span>(<span class="st">&#39;javascript&#39;</span>) <span class="op">===</span> <span class="dv">-1</span></a>
<a class="sourceLine" id="cb2-83" data-line-number="83">      ) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-84" data-line-number="84">        <span class="co">// No service worker found. Probably a different app. Reload the page.</span></a>
<a class="sourceLine" id="cb2-85" data-line-number="85">        <span class="va">navigator</span>.<span class="va">serviceWorker</span>.<span class="va">ready</span>.<span class="at">then</span>(registration <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-86" data-line-number="86">          <span class="va">registration</span>.<span class="at">unregister</span>().<span class="at">then</span>(() <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-87" data-line-number="87">            <span class="va">window</span>.<span class="va">location</span>.<span class="at">reload</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-88" data-line-number="88">          <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-89" data-line-number="89">        <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-90" data-line-number="90">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-91" data-line-number="91">        <span class="co">// Service worker found. Proceed as normal.</span></a>
<a class="sourceLine" id="cb2-92" data-line-number="92">        <span class="at">registerValidSW</span>(swUrl)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-93" data-line-number="93">      <span class="op">}</span></a>
<a class="sourceLine" id="cb2-94" data-line-number="94">    <span class="op">}</span>)</a>
<a class="sourceLine" id="cb2-95" data-line-number="95">    .<span class="at">catch</span>(() <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-96" data-line-number="96">      <span class="va">console</span>.<span class="at">log</span>(</a>
<a class="sourceLine" id="cb2-97" data-line-number="97">        <span class="st">&#39;No internet connection found. App is running in offline mode.&#39;</span></a>
<a class="sourceLine" id="cb2-98" data-line-number="98">      )<span class="op">;</span></a>
<a class="sourceLine" id="cb2-99" data-line-number="99">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-100" data-line-number="100"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-101" data-line-number="101"></a>
<a class="sourceLine" id="cb2-102" data-line-number="102"><span class="im">export</span> <span class="kw">function</span> <span class="at">unregister</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-103" data-line-number="103">  <span class="cf">if</span> (<span class="st">&#39;serviceWorker&#39;</span> <span class="kw">in</span> navigator) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-104" data-line-number="104">    <span class="va">navigator</span>.<span class="va">serviceWorker</span>.<span class="va">ready</span>.<span class="at">then</span>(registration <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-105" data-line-number="105">      <span class="va">registration</span>.<span class="at">unregister</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-106" data-line-number="106">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-107" data-line-number="107">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-108" data-line-number="108"><span class="op">}</span></a></code></pre></div>
<h3 id="utils">Utils</h3>
<div class="sourceCode" id="Utils" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Utils-1" data-line-number="1">      <span class="im">import</span> <span class="op">{</span> words <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;lodash&#39;</span></a>
<a class="sourceLine" id="Utils-2" data-line-number="2"></a>
<a class="sourceLine" id="Utils-3" data-line-number="3">      <span class="im">export</span> <span class="kw">function</span> <span class="at">calculateCoverage</span> (endpoints) <span class="op">{</span></a>
<a class="sourceLine" id="Utils-4" data-line-number="4">        <span class="kw">var</span> total <span class="op">=</span> <span class="va">endpoints</span>.<span class="at">length</span></a>
<a class="sourceLine" id="Utils-5" data-line-number="5">        <span class="kw">var</span> tested <span class="op">=</span> <span class="va">endpoints</span>.<span class="at">filter</span>(endpoint <span class="op">=&gt;</span> <span class="va">endpoint</span>.<span class="at">isTested</span>).<span class="at">length</span></a>
<a class="sourceLine" id="Utils-6" data-line-number="6">        <span class="kw">var</span> percentage <span class="op">=</span> (<span class="dv">100</span> <span class="op">*</span> tested /total).<span class="at">toPrecision</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="Utils-7" data-line-number="7"></a>
<a class="sourceLine" id="Utils-8" data-line-number="8">        <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Utils-9" data-line-number="9">          tested<span class="op">,</span></a>
<a class="sourceLine" id="Utils-10" data-line-number="10">          total<span class="op">,</span></a>
<a class="sourceLine" id="Utils-11" data-line-number="11">          <span class="dt">percentage</span><span class="op">:</span> <span class="vs">`</span><span class="sc">${</span>percentage<span class="sc">}</span><span class="vs">%`</span><span class="op">,</span></a>
<a class="sourceLine" id="Utils-12" data-line-number="12">          <span class="dt">ratio</span><span class="op">:</span> <span class="vs">`</span><span class="sc">${</span>tested<span class="sc">}</span><span class="vs">/</span><span class="sc">${</span>total<span class="sc">}</span><span class="vs">`</span></a>
<a class="sourceLine" id="Utils-13" data-line-number="13">        <span class="op">}</span></a>
<a class="sourceLine" id="Utils-14" data-line-number="14">      <span class="op">}</span></a>
<a class="sourceLine" id="Utils-15" data-line-number="15"></a>
<a class="sourceLine" id="Utils-16" data-line-number="16"><span class="co">// Hey!  You&#39;re doing good.  Thanks for chekcing this out.  Just to warn ya, there&#39;s going to be a regular expression</span></a>
<a class="sourceLine" id="Utils-17" data-line-number="17"><span class="co">// it&#39;s two lines down.  It&#39;s just making it so that we pop out the opacity at the end of an rgba string correctly.</span></a>
<a class="sourceLine" id="Utils-18" data-line-number="18"><span class="co">// I have nothing else to give you.</span></a>
<a class="sourceLine" id="Utils-19" data-line-number="19">      <span class="im">export</span> <span class="kw">function</span> <span class="at">fadeColor</span> (rgba<span class="op">,</span> desiredOpacity) <span class="op">{</span></a>
<a class="sourceLine" id="Utils-20" data-line-number="20">        <span class="kw">var</span> rgbaParts <span class="op">=</span> <span class="at">words</span>(rgba<span class="op">,</span> <span class="ss">/</span><span class="sc">[^,|^\(|^) ]+</span><span class="ss">/g</span>)</a>
<a class="sourceLine" id="Utils-21" data-line-number="21">        <span class="va">rgbaParts</span>.<span class="at">pop</span>()</a>
<a class="sourceLine" id="Utils-22" data-line-number="22">        <span class="va">rgbaParts</span>.<span class="at">push</span>(desiredOpacity)</a>
<a class="sourceLine" id="Utils-23" data-line-number="23">        <span class="kw">var</span> newRgbaString <span class="op">=</span> <span class="va">rgbaParts</span>.<span class="at">join</span>(<span class="st">&#39;,&#39;</span>)</a>
<a class="sourceLine" id="Utils-24" data-line-number="24">        <span class="kw">var</span> newRgba <span class="op">=</span> <span class="va">newRgbaString</span>.<span class="at">replace</span>(<span class="ss">/,/</span><span class="op">,</span><span class="st">&#39;(&#39;</span>) <span class="op">+</span> <span class="st">&#39;)&#39;</span></a>
<a class="sourceLine" id="Utils-25" data-line-number="25">        <span class="cf">return</span> newRgba</a>
<a class="sourceLine" id="Utils-26" data-line-number="26">      <span class="op">}</span></a></code></pre></div>
<h2 id="actions">Actions</h2>
<h3 id="index.js-1">index.js</h3>
<p>We'll use the index page of the actions to set up our axios client. axios handles our fetch requests, since we'll be fetching from another server and not from a data file within this app. Axios is an http request client that uses promises (a new javascript convention for handling asynchronous calls).<a href="https://www.npmjs.com/package/axios"> Axios page on NPM</a></p>
<p>We'll want to configure a client app for axios, that sets the host we are trying to connect to and the type of information we are expecting to get. Since we are working with a feathers api, then we know we just need to grab JSON.</p>
<div class="sourceCode" id="axios_config" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="axios_config-1" data-line-number="1"><span class="im">import</span> axios <span class="im">from</span> <span class="st">&#39;axios&#39;</span></a>
<a class="sourceLine" id="axios_config-2" data-line-number="2"></a>
<a class="sourceLine" id="axios_config-3" data-line-number="3"><span class="im">export</span> <span class="kw">const</span> client <span class="op">=</span> <span class="va">axios</span>.<span class="at">create</span>(<span class="op">{</span></a>
<a class="sourceLine" id="axios_config-4" data-line-number="4">  <span class="dt">baseURL</span><span class="op">:</span> <span class="st">&quot;https://feathers.apisnoop.cncf.ci&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="axios_config-5" data-line-number="5">  <span class="dt">headers</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="axios_config-6" data-line-number="6">    <span class="st">&quot;Content-Type&quot;</span><span class="op">:</span> <span class="st">&quot;application/json&quot;</span></a>
<a class="sourceLine" id="axios_config-7" data-line-number="7">  <span class="op">}</span></a>
<a class="sourceLine" id="axios_config-8" data-line-number="8"><span class="op">}</span>)</a></code></pre></div>
<p>These work with redux to deliver our store an object that has a 'type' and a payload. So the type tells our store reducers what to do with it, and the payload is the data that is being added to the global state.</p>
<h3 id="endpoint-actions">Endpoint Actions</h3>
<ol>
<li><p>Requirements</p>
<div class="sourceCode" id="Requirements" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Requirements-1" data-line-number="1"><span class="im">import</span> <span class="op">{</span> client <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./&#39;</span></a></code></pre></div></li>
<li><p>Our URL Variables</p>
<div class="sourceCode" id="URL Variable" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="URL Variable-1" data-line-number="1"><span class="kw">const</span> url <span class="op">=</span> <span class="st">&#39;/api/v1/endpoints&#39;</span></a></code></pre></div></li>
<li><p>Fetching Endpoints</p>
<div class="sourceCode" id="Fetch Endpoints" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Fetch Endpoints-1" data-line-number="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">fetchEndpoints</span> () <span class="op">{</span></a>
<a class="sourceLine" id="Fetch Endpoints-2" data-line-number="2">  <span class="cf">return</span> dispatch <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Fetch Endpoints-3" data-line-number="3">    <span class="at">dispatch</span>(<span class="op">{</span></a>
<a class="sourceLine" id="Fetch Endpoints-4" data-line-number="4">      <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;FETCH_ENDPOINTS&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Fetch Endpoints-5" data-line-number="5">      <span class="dt">payload</span><span class="op">:</span> <span class="va">client</span>.<span class="at">get</span>(url)</a>
<a class="sourceLine" id="Fetch Endpoints-6" data-line-number="6">    <span class="op">}</span>)</a>
<a class="sourceLine" id="Fetch Endpoints-7" data-line-number="7">  <span class="op">}</span></a>
<a class="sourceLine" id="Fetch Endpoints-8" data-line-number="8"><span class="op">}</span></a></code></pre></div></li>
</ol>
<h3 id="test-actions">Test Actions</h3>
<ol>
<li><p>Requirements</p>
<div class="sourceCode" id="Requirements" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Requirements-1" data-line-number="1"><span class="im">import</span> <span class="op">{</span> client <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./&#39;</span></a></code></pre></div></li>
<li><p>Our URL Variables</p>
<div class="sourceCode" id="URL Variable" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="URL Variable-1" data-line-number="1"><span class="kw">const</span> url <span class="op">=</span> <span class="st">&#39;/api/v1/tests&#39;</span></a></code></pre></div></li>
<li><p>Fetching Tests</p>
<div class="sourceCode" id="Fetch Tests" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Fetch Tests-1" data-line-number="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">doFetchTests</span> () <span class="op">{</span></a>
<a class="sourceLine" id="Fetch Tests-2" data-line-number="2">  <span class="cf">return</span> dispatch <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Fetch Tests-3" data-line-number="3">    <span class="at">dispatch</span>(<span class="op">{</span></a>
<a class="sourceLine" id="Fetch Tests-4" data-line-number="4">      <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;FETCH_TESTS&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Fetch Tests-5" data-line-number="5">      <span class="dt">payload</span><span class="op">:</span> <span class="va">client</span>.<span class="at">get</span>(url)</a>
<a class="sourceLine" id="Fetch Tests-6" data-line-number="6">    <span class="op">}</span>)</a>
<a class="sourceLine" id="Fetch Tests-7" data-line-number="7">  <span class="op">}</span></a>
<a class="sourceLine" id="Fetch Tests-8" data-line-number="8"><span class="op">}</span></a></code></pre></div></li>
<li><p>Choose Active Test</p>
<div class="sourceCode" id="Choose Active Test" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Choose Active Test-1" data-line-number="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">doChooseActiveTest</span> (test) <span class="op">{</span></a>
<a class="sourceLine" id="Choose Active Test-2" data-line-number="2">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Choose Active Test-3" data-line-number="3">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;NEW_ACTIVE_TEST_CHOSEN&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Choose Active Test-4" data-line-number="4">    <span class="dt">payload</span><span class="op">:</span> test</a>
<a class="sourceLine" id="Choose Active Test-5" data-line-number="5">  <span class="op">}</span></a>
<a class="sourceLine" id="Choose Active Test-6" data-line-number="6"><span class="op">}</span></a></code></pre></div></li>
<li><p>Choose Active Test</p>
<div class="sourceCode" id="Close Active Test" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Close Active Test-1" data-line-number="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">doCloseActiveTest</span> (test) <span class="op">{</span></a>
<a class="sourceLine" id="Close Active Test-2" data-line-number="2">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Close Active Test-3" data-line-number="3">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;ACTIVE_TEST_CLOSED&#39;</span></a>
<a class="sourceLine" id="Close Active Test-4" data-line-number="4">  <span class="op">}</span></a>
<a class="sourceLine" id="Close Active Test-5" data-line-number="5"><span class="op">}</span></a></code></pre></div></li>
<li><p>Set Endpoint Tests</p>
<div class="sourceCode" id="Choose Active Test" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Choose Active Test-1" data-line-number="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">doSetEndpointTests</span> (endpointTests) <span class="op">{</span></a>
<a class="sourceLine" id="Choose Active Test-2" data-line-number="2">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Choose Active Test-3" data-line-number="3">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;ENDPOINT_TESTS_SET&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Choose Active Test-4" data-line-number="4">    <span class="dt">payload</span><span class="op">:</span> endpointTests</a>
<a class="sourceLine" id="Choose Active Test-5" data-line-number="5">  <span class="op">}</span></a>
<a class="sourceLine" id="Choose Active Test-6" data-line-number="6"><span class="op">}</span></a></code></pre></div></li>
</ol>
<h3 id="charts-actions">Charts Actions</h3>
<ol>
<li><p>Focus Chart</p>
<div class="sourceCode" id="Focusing Chart" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Focusing Chart-1" data-line-number="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">focusChart</span> (keyPath) <span class="op">{</span></a>
<a class="sourceLine" id="Focusing Chart-2" data-line-number="2">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Focusing Chart-3" data-line-number="3">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;CHART_FOCUSED&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Focusing Chart-4" data-line-number="4">    <span class="dt">payload</span><span class="op">:</span> keyPath</a>
<a class="sourceLine" id="Focusing Chart-5" data-line-number="5">  <span class="op">}</span></a>
<a class="sourceLine" id="Focusing Chart-6" data-line-number="6"><span class="op">}</span></a></code></pre></div></li>
<li><p>Lock Chart</p>
<div class="sourceCode" id="Locking Chart" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Locking Chart-1" data-line-number="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">doLockChart</span> () <span class="op">{</span></a>
<a class="sourceLine" id="Locking Chart-2" data-line-number="2">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Locking Chart-3" data-line-number="3">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;CHART_LOCKED&#39;</span></a>
<a class="sourceLine" id="Locking Chart-4" data-line-number="4">  <span class="op">}</span></a>
<a class="sourceLine" id="Locking Chart-5" data-line-number="5"><span class="op">}</span></a></code></pre></div></li>
<li><p>Unlock Chart</p>
<div class="sourceCode" id="Unlocking Chart" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Unlocking Chart-1" data-line-number="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">doUnlockChart</span> () <span class="op">{</span></a>
<a class="sourceLine" id="Unlocking Chart-2" data-line-number="2">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Unlocking Chart-3" data-line-number="3">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;CHART_UNLOCKED&#39;</span></a>
<a class="sourceLine" id="Unlocking Chart-4" data-line-number="4">  <span class="op">}</span></a>
<a class="sourceLine" id="Unlocking Chart-5" data-line-number="5"><span class="op">}</span></a></code></pre></div></li>
<li><p>Unfocus Chart</p>
<div class="sourceCode" id="Unfocus Chart" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Unfocus Chart-1" data-line-number="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">unfocusChart</span>() <span class="op">{</span></a>
<a class="sourceLine" id="Unfocus Chart-2" data-line-number="2">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Unfocus Chart-3" data-line-number="3">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;CHART_UNFOCUSED&#39;</span></a>
<a class="sourceLine" id="Unfocus Chart-4" data-line-number="4">  <span class="op">}</span></a>
<a class="sourceLine" id="Unfocus Chart-5" data-line-number="5"><span class="op">}</span></a></code></pre></div></li>
</ol>
<h3 id="routing-actions">Routing Actions</h3>
<div class="sourceCode" id="Routing Actions" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Routing Actions-1" data-line-number="1"> <span class="im">import</span> routeMatcher <span class="im">from</span> <span class="st">&#39;../routes&#39;</span></a>
<a class="sourceLine" id="Routing Actions-2" data-line-number="2"></a>
<a class="sourceLine" id="Routing Actions-3" data-line-number="3"><span class="im">export</span> <span class="kw">function</span> <span class="at">changeActiveRoute</span> (target) <span class="op">{</span></a>
<a class="sourceLine" id="Routing Actions-4" data-line-number="4">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Routing Actions-5" data-line-number="5">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;ACTIVE_ROUTE_CHANGED&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Routing Actions-6" data-line-number="6">    <span class="dt">payload</span><span class="op">:</span> target</a>
<a class="sourceLine" id="Routing Actions-7" data-line-number="7">  <span class="op">}</span></a>
<a class="sourceLine" id="Routing Actions-8" data-line-number="8"><span class="op">}</span></a>
<a class="sourceLine" id="Routing Actions-9" data-line-number="9"></a>
<a class="sourceLine" id="Routing Actions-10" data-line-number="10"><span class="im">export</span> <span class="kw">function</span> <span class="at">doUpdateUrl</span> (pathname) <span class="op">{</span></a>
<a class="sourceLine" id="Routing Actions-11" data-line-number="11">  <span class="kw">var</span> pathData <span class="op">=</span> <span class="at">routeMatcher</span>(pathname)</a>
<a class="sourceLine" id="Routing Actions-12" data-line-number="12">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Routing Actions-13" data-line-number="13">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;UPDATE_URL&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Routing Actions-14" data-line-number="14">    <span class="dt">payload</span><span class="op">:</span> pathData</a>
<a class="sourceLine" id="Routing Actions-15" data-line-number="15">  <span class="op">}</span></a>
<a class="sourceLine" id="Routing Actions-16" data-line-number="16"><span class="op">}</span></a></code></pre></div>
<h2 id="reducers">Reducers</h2>
<h3 id="introduction-1">Introduction</h3>
<dl>
<dt>Reducers/Charts</dt>
<dd>Help us manage how a chart is manipulated based on mouseover, click, mouseleave, and other things..
</dd>
<dt>Reducers/Endpoints</dt>
<dd>Handles when we make a call to our endpoints API, changing the loading status upon pending, and delivering the endpoints (sorted by ID) to our store when the API request is fulfilled.
</dd>
<dt>Reducers/Releases</dt>
<dd>Older reducer that will likely be phased out.
</dd>
<dt>Reducers/Routing</dt>
<dd>listens to the URL routes and updates state accordingly (so we can set the component based on current URL.
</dd>
<dt>Reducers/Tests</dt>
<dd>Corresponds to the test sequences, which are in /api/v1/tests. This should maybe be updated to be clear (test<sub>sequences</sub> instead of tests)
</dd>
</dl>
<p>For each reducer, we follow a similar pattern: we'll set an initial state for what should be held in this store, and what types it's expecting (object, array, string, etc). Then, we listen to various action dispatches and handle them through a switch operation. Each action will come with some sorta payload (defined by the action creator in our actions folder). The reducer just takes the payload and adds it to the store, which will update the state.</p>
<p>The reducer is not manipulating the data in any way. It takes the payload unaffected and adds it to the state the same way. We then use our selectors to massage the data to work for whatever props we need.</p>
<h3 id="index.js-2">index.js</h3>
<p>Here we combine all our different reducers into one big one. This lets us think about the app in different, focused concerns that then get added to the larger application seamlessly.</p>
<div class="sourceCode" id="Requirements" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Requirements-1" data-line-number="1"><span class="im">import</span> <span class="op">{</span> combineReducers <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;redux&#39;</span></a>
<a class="sourceLine" id="Requirements-2" data-line-number="2"></a>
<a class="sourceLine" id="Requirements-3" data-line-number="3"><span class="im">import</span> EndpointsReducer <span class="im">from</span> <span class="st">&#39;./endpoints&#39;</span></a>
<a class="sourceLine" id="Requirements-4" data-line-number="4"><span class="im">import</span> TestsReducer <span class="im">from</span> <span class="st">&#39;./tests&#39;</span></a>
<a class="sourceLine" id="Requirements-5" data-line-number="5"><span class="im">import</span> ChartsReducer <span class="im">from</span> <span class="st">&#39;./charts&#39;</span></a>
<a class="sourceLine" id="Requirements-6" data-line-number="6"><span class="im">import</span> RoutingReducer <span class="im">from</span> <span class="st">&#39;./routing&#39;</span></a></code></pre></div>
<div class="sourceCode" id="Reducers" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Reducers-1" data-line-number="1"><span class="kw">const</span> reducers <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="Reducers-2" data-line-number="2">  <span class="dt">charts</span><span class="op">:</span> ChartsReducer<span class="op">,</span></a>
<a class="sourceLine" id="Reducers-3" data-line-number="3">  <span class="dt">endpoints</span><span class="op">:</span> EndpointsReducer<span class="op">,</span></a>
<a class="sourceLine" id="Reducers-4" data-line-number="4">  <span class="dt">tests</span><span class="op">:</span> TestsReducer<span class="op">,</span></a>
<a class="sourceLine" id="Reducers-5" data-line-number="5">  <span class="dt">routing</span><span class="op">:</span> RoutingReducer</a>
<a class="sourceLine" id="Reducers-6" data-line-number="6"><span class="op">}</span></a>
<a class="sourceLine" id="Reducers-7" data-line-number="7"></a>
<a class="sourceLine" id="Reducers-8" data-line-number="8"><span class="kw">const</span> rootReducer <span class="op">=</span> <span class="at">combineReducers</span>(reducers)</a>
<a class="sourceLine" id="Reducers-9" data-line-number="9"></a>
<a class="sourceLine" id="Reducers-10" data-line-number="10"><span class="im">export</span> <span class="im">default</span> rootReducer</a></code></pre></div>
<h3 id="charts-reducer">Charts Reducer</h3>
<div class="sourceCode" id="The Charts Reducer" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="The Charts Reducer-1" data-line-number="1"><span class="kw">const</span> initialState <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Charts Reducer-2" data-line-number="2">  <span class="dt">focusedKeyPath</span><span class="op">:</span> []<span class="op">,</span></a>
<a class="sourceLine" id="The Charts Reducer-3" data-line-number="3">  <span class="dt">chartLocked</span><span class="op">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="The Charts Reducer-4" data-line-number="4"><span class="op">}</span></a>
<a class="sourceLine" id="The Charts Reducer-5" data-line-number="5"></a>
<a class="sourceLine" id="The Charts Reducer-6" data-line-number="6"><span class="im">export</span> <span class="im">default</span> (state <span class="op">=</span> initialState<span class="op">,</span> action <span class="op">=</span> <span class="op">{}</span>) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Charts Reducer-7" data-line-number="7">  <span class="cf">switch</span> (<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="The Charts Reducer-8" data-line-number="8">  <span class="cf">case</span> <span class="st">&#39;CHART_FOCUSED&#39;</span><span class="op">:</span></a>
<a class="sourceLine" id="The Charts Reducer-9" data-line-number="9">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Charts Reducer-10" data-line-number="10">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Charts Reducer-11" data-line-number="11">      <span class="dt">focusedKeyPath</span><span class="op">:</span> <span class="va">action</span>.<span class="at">payload</span></a>
<a class="sourceLine" id="The Charts Reducer-12" data-line-number="12">    <span class="op">}</span></a>
<a class="sourceLine" id="The Charts Reducer-13" data-line-number="13">  <span class="cf">case</span> <span class="st">&#39;CHART_UNFOCUSED&#39;</span><span class="op">:</span></a>
<a class="sourceLine" id="The Charts Reducer-14" data-line-number="14">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Charts Reducer-15" data-line-number="15">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Charts Reducer-16" data-line-number="16">      <span class="dt">focusedKeyPath</span><span class="op">:</span> []</a>
<a class="sourceLine" id="The Charts Reducer-17" data-line-number="17">    <span class="op">}</span></a>
<a class="sourceLine" id="The Charts Reducer-18" data-line-number="18">  <span class="cf">case</span> <span class="st">&#39;CHART_LOCKED&#39;</span><span class="op">:</span></a>
<a class="sourceLine" id="The Charts Reducer-19" data-line-number="19">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Charts Reducer-20" data-line-number="20">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Charts Reducer-21" data-line-number="21">      <span class="dt">chartLocked</span><span class="op">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="The Charts Reducer-22" data-line-number="22">    <span class="op">}</span></a>
<a class="sourceLine" id="The Charts Reducer-23" data-line-number="23">  <span class="cf">case</span> <span class="st">&#39;CHART_UNLOCKED&#39;</span><span class="op">:</span></a>
<a class="sourceLine" id="The Charts Reducer-24" data-line-number="24">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Charts Reducer-25" data-line-number="25">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Charts Reducer-26" data-line-number="26">      <span class="dt">chartLocked</span><span class="op">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="The Charts Reducer-27" data-line-number="27">    <span class="op">}</span></a>
<a class="sourceLine" id="The Charts Reducer-28" data-line-number="28">  <span class="cf">case</span> <span class="st">&#39;ACTIVE_ROUTE_CHANGED&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Charts Reducer-29" data-line-number="29">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Charts Reducer-30" data-line-number="30">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Charts Reducer-31" data-line-number="31">      <span class="dt">chartLocked</span><span class="op">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="The Charts Reducer-32" data-line-number="32">    <span class="op">}</span></a>
<a class="sourceLine" id="The Charts Reducer-33" data-line-number="33">  <span class="op">}</span></a>
<a class="sourceLine" id="The Charts Reducer-34" data-line-number="34">  <span class="dt">default</span><span class="op">:</span></a>
<a class="sourceLine" id="The Charts Reducer-35" data-line-number="35">    <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="The Charts Reducer-36" data-line-number="36">  <span class="op">}</span></a>
<a class="sourceLine" id="The Charts Reducer-37" data-line-number="37"><span class="op">}</span></a></code></pre></div>
<h3 id="endpoints-reducer">Endpoints Reducer</h3>
<div class="sourceCode" id="The Endpoints Reducer" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="The Endpoints Reducer-1" data-line-number="1"><span class="kw">const</span> <span class="op">{</span> keyBy <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;lodash&#39;</span>)</a>
<a class="sourceLine" id="The Endpoints Reducer-2" data-line-number="2"><span class="kw">const</span> initialState <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Endpoints Reducer-3" data-line-number="3">  <span class="dt">byId</span><span class="op">:</span> <span class="op">{},</span></a>
<a class="sourceLine" id="The Endpoints Reducer-4" data-line-number="4">  <span class="dt">isLoading</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="The Endpoints Reducer-5" data-line-number="5">  <span class="dt">hasLoaded</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="The Endpoints Reducer-6" data-line-number="6">  <span class="dt">errors</span><span class="op">:</span> <span class="op">{}</span></a>
<a class="sourceLine" id="The Endpoints Reducer-7" data-line-number="7"><span class="op">}</span></a>
<a class="sourceLine" id="The Endpoints Reducer-8" data-line-number="8"></a>
<a class="sourceLine" id="The Endpoints Reducer-9" data-line-number="9"><span class="im">export</span> <span class="im">default</span> (state <span class="op">=</span> initialState<span class="op">,</span> action <span class="op">=</span> <span class="op">{}</span>) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Endpoints Reducer-10" data-line-number="10">  <span class="cf">switch</span>(<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="The Endpoints Reducer-11" data-line-number="11">  <span class="cf">case</span> <span class="st">&#39;FETCH_ENDPOINTS_PENDING&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Endpoints Reducer-12" data-line-number="12">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Endpoints Reducer-13" data-line-number="13">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Endpoints Reducer-14" data-line-number="14">      <span class="dt">isLoading</span><span class="op">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="The Endpoints Reducer-15" data-line-number="15">    <span class="op">}</span></a>
<a class="sourceLine" id="The Endpoints Reducer-16" data-line-number="16">  <span class="op">}</span></a>
<a class="sourceLine" id="The Endpoints Reducer-17" data-line-number="17">  <span class="cf">case</span> <span class="st">&#39;FETCH_ENDPOINTS_FULFILLED&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Endpoints Reducer-18" data-line-number="18">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Endpoints Reducer-19" data-line-number="19">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Endpoints Reducer-20" data-line-number="20">      <span class="dt">byId</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Endpoints Reducer-21" data-line-number="21">        ...<span class="va">state</span>.<span class="at">byId</span><span class="op">,</span></a>
<a class="sourceLine" id="The Endpoints Reducer-22" data-line-number="22">        ...<span class="at">keyBy</span>(<span class="va">action</span>.<span class="va">payload</span>.<span class="at">data</span><span class="op">,</span> <span class="st">&#39;_id&#39;</span>)</a>
<a class="sourceLine" id="The Endpoints Reducer-23" data-line-number="23">      <span class="op">},</span></a>
<a class="sourceLine" id="The Endpoints Reducer-24" data-line-number="24">      <span class="dt">isLoading</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="The Endpoints Reducer-25" data-line-number="25">      <span class="dt">hasLoaded</span><span class="op">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="The Endpoints Reducer-26" data-line-number="26">    <span class="op">}</span></a>
<a class="sourceLine" id="The Endpoints Reducer-27" data-line-number="27">  <span class="op">}</span></a>
<a class="sourceLine" id="The Endpoints Reducer-28" data-line-number="28">  <span class="dt">default</span><span class="op">:</span></a>
<a class="sourceLine" id="The Endpoints Reducer-29" data-line-number="29">    <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="The Endpoints Reducer-30" data-line-number="30">  <span class="op">}</span></a>
<a class="sourceLine" id="The Endpoints Reducer-31" data-line-number="31"><span class="op">}</span></a></code></pre></div>
<h3 id="tests-reducer">Tests Reducer</h3>
<div class="sourceCode" id="The Tests Reducer" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="The Tests Reducer-1" data-line-number="1"><span class="kw">const</span> <span class="op">{</span> keyBy <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;lodash&#39;</span>)</a>
<a class="sourceLine" id="The Tests Reducer-2" data-line-number="2"></a>
<a class="sourceLine" id="The Tests Reducer-3" data-line-number="3"><span class="kw">const</span> initialState <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-4" data-line-number="4">  <span class="dt">activeTest</span><span class="op">:</span> <span class="op">{},</span></a>
<a class="sourceLine" id="The Tests Reducer-5" data-line-number="5">  <span class="dt">byId</span><span class="op">:</span> <span class="op">{},</span></a>
<a class="sourceLine" id="The Tests Reducer-6" data-line-number="6">  <span class="dt">endpointTests</span><span class="op">:</span> []<span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-7" data-line-number="7">  <span class="dt">errors</span><span class="op">:</span> <span class="op">{},</span></a>
<a class="sourceLine" id="The Tests Reducer-8" data-line-number="8">  <span class="dt">isLoading</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-9" data-line-number="9">  <span class="dt">hasLoaded</span><span class="op">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="The Tests Reducer-10" data-line-number="10"><span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-11" data-line-number="11"></a>
<a class="sourceLine" id="The Tests Reducer-12" data-line-number="12"><span class="im">export</span> <span class="im">default</span> (state <span class="op">=</span> initialState<span class="op">,</span> action <span class="op">=</span> <span class="op">{}</span>) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-13" data-line-number="13">  <span class="cf">switch</span>(<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-14" data-line-number="14">  <span class="cf">case</span> <span class="st">&#39;FETCH_TESTS_PENDING&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-15" data-line-number="15">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-16" data-line-number="16">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-17" data-line-number="17">      <span class="dt">isLoading</span><span class="op">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="The Tests Reducer-18" data-line-number="18">    <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-19" data-line-number="19">  <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-20" data-line-number="20">  <span class="cf">case</span> <span class="st">&#39;FETCH_TESTS_FULFILLED&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-21" data-line-number="21">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-22" data-line-number="22">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-23" data-line-number="23">      <span class="dt">byId</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-24" data-line-number="24">        ...<span class="va">state</span>.<span class="at">byId</span><span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-25" data-line-number="25">        ...<span class="at">keyBy</span>(<span class="va">action</span>.<span class="va">payload</span>.<span class="at">data</span><span class="op">,</span> <span class="st">&#39;_id&#39;</span>)</a>
<a class="sourceLine" id="The Tests Reducer-26" data-line-number="26">      <span class="op">},</span></a>
<a class="sourceLine" id="The Tests Reducer-27" data-line-number="27">      <span class="dt">isLoading</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-28" data-line-number="28">      <span class="dt">hasLoaded</span><span class="op">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="The Tests Reducer-29" data-line-number="29">    <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-30" data-line-number="30">  <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-31" data-line-number="31">  <span class="cf">case</span> <span class="st">&#39;ENDPOINT_TESTS_SET&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-32" data-line-number="32">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-33" data-line-number="33">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-34" data-line-number="34">      <span class="dt">endpointTests</span><span class="op">:</span> <span class="va">action</span>.<span class="at">payload</span></a>
<a class="sourceLine" id="The Tests Reducer-35" data-line-number="35">    <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-36" data-line-number="36">  <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-37" data-line-number="37">  <span class="cf">case</span> <span class="st">&#39;NEW_ACTIVE_TEST_CHOSEN&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-38" data-line-number="38">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-39" data-line-number="39">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-40" data-line-number="40">      <span class="dt">activeTest</span><span class="op">:</span> <span class="va">action</span>.<span class="at">payload</span></a>
<a class="sourceLine" id="The Tests Reducer-41" data-line-number="41">    <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-42" data-line-number="42">  <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-43" data-line-number="43">  <span class="cf">case</span> <span class="st">&#39;ACTIVE_TEST_CLOSED&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-44" data-line-number="44">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-45" data-line-number="45">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-46" data-line-number="46">      <span class="dt">activeTest</span><span class="op">:</span> <span class="op">{}</span></a>
<a class="sourceLine" id="The Tests Reducer-47" data-line-number="47">    <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-48" data-line-number="48">  <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-49" data-line-number="49">  <span class="cf">case</span> <span class="st">&#39;CHART_UNLOCKED&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-50" data-line-number="50">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-51" data-line-number="51">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-52" data-line-number="52">      <span class="dt">activeTest</span><span class="op">:</span> <span class="op">{},</span></a>
<a class="sourceLine" id="The Tests Reducer-53" data-line-number="53">      <span class="dt">endpointTests</span><span class="op">:</span> []</a>
<a class="sourceLine" id="The Tests Reducer-54" data-line-number="54">    <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-55" data-line-number="55">  <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-56" data-line-number="56">  <span class="cf">case</span> <span class="st">&#39;ACTIVE_ROUTE_CHANGED&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-57" data-line-number="57">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Tests Reducer-58" data-line-number="58">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Tests Reducer-59" data-line-number="59">      <span class="dt">activeTest</span><span class="op">:</span> <span class="op">{},</span></a>
<a class="sourceLine" id="The Tests Reducer-60" data-line-number="60">      <span class="dt">endpointTests</span><span class="op">:</span> []</a>
<a class="sourceLine" id="The Tests Reducer-61" data-line-number="61">    <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-62" data-line-number="62">  <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-63" data-line-number="63">  <span class="dt">default</span><span class="op">:</span></a>
<a class="sourceLine" id="The Tests Reducer-64" data-line-number="64">    <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="The Tests Reducer-65" data-line-number="65">  <span class="op">}</span></a>
<a class="sourceLine" id="The Tests Reducer-66" data-line-number="66"><span class="op">}</span></a></code></pre></div>
<h3 id="routing-reducer">Routing Reducer</h3>
<p>The goal is to listen to the location change and adjust the state accordingly. We can then have our component always be showing the release related to the lastest route.</p>
<div class="sourceCode" id="The Routing Reducer" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="The Routing Reducer-1" data-line-number="1"><span class="im">import</span> MainPage <span class="im">from</span> <span class="st">&#39;../pages/main-page&#39;</span></a>
<a class="sourceLine" id="The Routing Reducer-2" data-line-number="2"></a>
<a class="sourceLine" id="The Routing Reducer-3" data-line-number="3"><span class="kw">const</span> initialState <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Routing Reducer-4" data-line-number="4">  <span class="dt">pathname</span><span class="op">:</span> <span class="kw">typeof</span> <span class="va">window</span>.<span class="va">location</span>.<span class="at">pathname</span> <span class="op">!==</span> <span class="st">&#39;undefined&#39;</span> <span class="op">?</span> <span class="va">window</span>.<span class="va">location</span>.<span class="at">pathname</span> : <span class="st">&#39;/&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="The Routing Reducer-5" data-line-number="5">  <span class="dt">release</span><span class="op">:</span> <span class="at">releaseSet</span>() <span class="op">?</span> <span class="va">window</span>.<span class="va">location</span>.<span class="va">pathname</span>.<span class="at">replace</span>(<span class="st">&#39;/&#39;</span><span class="op">,</span><span class="st">&#39;&#39;</span>) : <span class="st">&#39;master&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="The Routing Reducer-6" data-line-number="6">  <span class="dt">endpoint</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="The Routing Reducer-7" data-line-number="7">  <span class="dt">page</span><span class="op">:</span> MainPage</a>
<a class="sourceLine" id="The Routing Reducer-8" data-line-number="8"><span class="op">}</span></a>
<a class="sourceLine" id="The Routing Reducer-9" data-line-number="9"></a>
<a class="sourceLine" id="The Routing Reducer-10" data-line-number="10"></a>
<a class="sourceLine" id="The Routing Reducer-11" data-line-number="11"><span class="im">export</span> <span class="im">default</span>   (state <span class="op">=</span> initialState<span class="op">,</span> action <span class="op">=</span> <span class="op">{}</span>) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Routing Reducer-12" data-line-number="12">  <span class="cf">if</span> (<span class="va">action</span>.<span class="at">type</span> <span class="op">===</span> <span class="st">&#39;UPDATE_URL&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="The Routing Reducer-13" data-line-number="13">    <span class="kw">var</span> path <span class="op">=</span> <span class="va">action</span>.<span class="at">payload</span></a>
<a class="sourceLine" id="The Routing Reducer-14" data-line-number="14">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="The Routing Reducer-15" data-line-number="15">      ...<span class="at">state</span><span class="op">,</span></a>
<a class="sourceLine" id="The Routing Reducer-16" data-line-number="16">      <span class="dt">pathname</span><span class="op">:</span> <span class="va">path</span>.<span class="at">url</span><span class="op">,</span></a>
<a class="sourceLine" id="The Routing Reducer-17" data-line-number="17">      <span class="dt">release</span><span class="op">:</span> <span class="va">path</span>.<span class="va">params</span>.<span class="at">release</span> <span class="op">?</span> <span class="va">path</span>.<span class="va">params</span>.<span class="at">release</span> : <span class="st">&#39;master&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="The Routing Reducer-18" data-line-number="18">      <span class="dt">endpoint</span><span class="op">:</span> <span class="va">path</span>.<span class="va">params</span>.<span class="at">endpoint</span> <span class="op">?</span> <span class="va">path</span>.<span class="va">params</span>.<span class="at">endpoint</span> : <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="The Routing Reducer-19" data-line-number="19">      <span class="dt">page</span><span class="op">:</span> <span class="va">path</span>.<span class="at">page</span></a>
<a class="sourceLine" id="The Routing Reducer-20" data-line-number="20">    <span class="op">}</span></a>
<a class="sourceLine" id="The Routing Reducer-21" data-line-number="21">  <span class="op">}</span></a>
<a class="sourceLine" id="The Routing Reducer-22" data-line-number="22">  <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="The Routing Reducer-23" data-line-number="23"><span class="op">}</span></a>
<a class="sourceLine" id="The Routing Reducer-24" data-line-number="24"></a>
<a class="sourceLine" id="The Routing Reducer-25" data-line-number="25"><span class="kw">function</span> <span class="at">releaseSet</span> () <span class="op">{</span></a>
<a class="sourceLine" id="The Routing Reducer-26" data-line-number="26">  <span class="cf">return</span> <span class="va">window</span>.<span class="va">location</span>.<span class="at">pathname</span> <span class="op">!==</span> <span class="kw">undefined</span> <span class="op">&amp;&amp;</span> <span class="va">window</span>.<span class="va">location</span>.<span class="at">pathname</span> <span class="op">!==</span> <span class="st">&#39;/&#39;</span></a>
<a class="sourceLine" id="The Routing Reducer-27" data-line-number="27"><span class="op">}</span></a></code></pre></div>
<h2 id="selectors">Selectors</h2>
<h3 id="index.js-3">index.js</h3>
<div class="sourceCode" id="Selectors index.js" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Selectors index.js-1" data-line-number="1"><span class="im">export</span> <span class="op">*</span> <span class="im">from</span> <span class="st">&#39;./endpoints&#39;</span></a>
<a class="sourceLine" id="Selectors index.js-2" data-line-number="2"><span class="im">export</span> <span class="op">*</span> <span class="im">from</span> <span class="st">&#39;./charts&#39;</span></a>
<a class="sourceLine" id="Selectors index.js-3" data-line-number="3"><span class="im">export</span> <span class="op">*</span> <span class="im">from</span> <span class="st">&#39;./routing&#39;</span></a>
<a class="sourceLine" id="Selectors index.js-4" data-line-number="4"><span class="im">export</span> <span class="op">*</span> <span class="im">from</span> <span class="st">&#39;./tests&#39;</span></a></code></pre></div>
<h3 id="endpoints-selector">Endpoints Selector</h3>
<div class="sourceCode" id="Endpoints Selector" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Endpoints Selector-1" data-line-number="1"><span class="im">import</span> <span class="op">{</span> createSelector <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;reselect&#39;</span></a>
<a class="sourceLine" id="Endpoints Selector-2" data-line-number="2"><span class="im">import</span> <span class="op">{</span> groupBy<span class="op">,</span> keyBy<span class="op">,</span> mapValues<span class="op">,</span> sortBy <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;lodash&#39;</span></a>
<a class="sourceLine" id="Endpoints Selector-3" data-line-number="3"><span class="im">import</span> <span class="op">{</span> calculateCoverage <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../lib/utils.js&#39;</span></a>
<a class="sourceLine" id="Endpoints Selector-4" data-line-number="4"></a>
<a class="sourceLine" id="Endpoints Selector-5" data-line-number="5"><span class="im">export</span> <span class="kw">function</span> <span class="at">selectEndpointsById</span> (state) <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-6" data-line-number="6">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">endpoints</span>.<span class="at">byId</span></a>
<a class="sourceLine" id="Endpoints Selector-7" data-line-number="7"><span class="op">}</span></a>
<a class="sourceLine" id="Endpoints Selector-8" data-line-number="8"></a>
<a class="sourceLine" id="Endpoints Selector-9" data-line-number="9"><span class="im">export</span> <span class="kw">const</span> selectEndpointsByReleaseAndNameAndMethod <span class="op">=</span> <span class="at">createSelector</span>(</a>
<a class="sourceLine" id="Endpoints Selector-10" data-line-number="10">  selectEndpointsById<span class="op">,</span></a>
<a class="sourceLine" id="Endpoints Selector-11" data-line-number="11">  (endpointsById) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-12" data-line-number="12">    <span class="kw">var</span> endpointsByRelease <span class="op">=</span> <span class="at">groupBy</span>(endpointsById<span class="op">,</span> <span class="st">&#39;release&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-13" data-line-number="13">    <span class="cf">return</span> <span class="at">mapValues</span>(endpointsByRelease<span class="op">,</span> endpointsInRelease <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-14" data-line-number="14">      <span class="kw">var</span> endpointsByName <span class="op">=</span> <span class="at">groupBy</span>(endpointsInRelease<span class="op">,</span> <span class="st">&#39;name&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-15" data-line-number="15">      <span class="cf">return</span> <span class="at">mapValues</span>(endpointsByName<span class="op">,</span> endpointsInName <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-16" data-line-number="16">        <span class="cf">return</span> <span class="at">keyBy</span>(endpointsInName<span class="op">,</span> <span class="st">&#39;method&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-17" data-line-number="17">      <span class="op">}</span>)</a>
<a class="sourceLine" id="Endpoints Selector-18" data-line-number="18">    <span class="op">}</span>)</a>
<a class="sourceLine" id="Endpoints Selector-19" data-line-number="19">  <span class="op">}</span></a>
<a class="sourceLine" id="Endpoints Selector-20" data-line-number="20">)</a>
<a class="sourceLine" id="Endpoints Selector-21" data-line-number="21"></a>
<a class="sourceLine" id="Endpoints Selector-22" data-line-number="22"><span class="im">export</span> <span class="kw">const</span> selectReleaseNamesFromEndpoints <span class="op">=</span> <span class="at">createSelector</span>(</a>
<a class="sourceLine" id="Endpoints Selector-23" data-line-number="23">  selectEndpointsByReleaseAndNameAndMethod<span class="op">,</span></a>
<a class="sourceLine" id="Endpoints Selector-24" data-line-number="24">  (endpointsByReleaseAndNameAndMethod) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-25" data-line-number="25">    <span class="kw">var</span> releaseNames <span class="op">=</span> <span class="va">Object</span>.<span class="at">keys</span>(endpointsByReleaseAndNameAndMethod)</a>
<a class="sourceLine" id="Endpoints Selector-26" data-line-number="26">    <span class="cf">return</span> <span class="at">sortBy</span>(releaseNames<span class="op">,</span> [</a>
<a class="sourceLine" id="Endpoints Selector-27" data-line-number="27">      (release) <span class="op">=&gt;</span> release <span class="op">===</span> <span class="st">&#39;master&#39;</span></a>
<a class="sourceLine" id="Endpoints Selector-28" data-line-number="28">    ])</a>
<a class="sourceLine" id="Endpoints Selector-29" data-line-number="29">  <span class="op">}</span></a>
<a class="sourceLine" id="Endpoints Selector-30" data-line-number="30">)</a>
<a class="sourceLine" id="Endpoints Selector-31" data-line-number="31"></a>
<a class="sourceLine" id="Endpoints Selector-32" data-line-number="32"><span class="im">export</span> <span class="kw">const</span> selectEndpointsByReleaseAndLevelAndCategoryAndNameAndMethod <span class="op">=</span> <span class="at">createSelector</span>(</a>
<a class="sourceLine" id="Endpoints Selector-33" data-line-number="33">  selectEndpointsById<span class="op">,</span></a>
<a class="sourceLine" id="Endpoints Selector-34" data-line-number="34">  (endpointsById) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-35" data-line-number="35">    <span class="kw">var</span> endpointsByRelease <span class="op">=</span> <span class="at">groupBy</span>(endpointsById<span class="op">,</span> <span class="st">&#39;release&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-36" data-line-number="36">    <span class="cf">return</span> <span class="at">mapValues</span>(endpointsByRelease<span class="op">,</span> endpointsInRelease <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-37" data-line-number="37">      <span class="kw">var</span> endpointsByLevel <span class="op">=</span> <span class="at">groupBy</span>(endpointsInRelease<span class="op">,</span> <span class="st">&#39;level&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-38" data-line-number="38">      <span class="cf">return</span> <span class="at">mapValues</span>(endpointsByLevel<span class="op">,</span> endpointsInLevel <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-39" data-line-number="39">        <span class="kw">var</span> endpointsByCategory <span class="op">=</span> <span class="at">groupBy</span>(endpointsInLevel<span class="op">,</span> <span class="st">&#39;category&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-40" data-line-number="40">        <span class="cf">return</span> <span class="at">mapValues</span>(endpointsByCategory<span class="op">,</span> endpointsInCategory <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-41" data-line-number="41">          <span class="kw">var</span> endpointsByName <span class="op">=</span> <span class="at">groupBy</span>(endpointsInCategory<span class="op">,</span> <span class="st">&#39;name&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-42" data-line-number="42">          <span class="cf">return</span> <span class="at">mapValues</span>(endpointsByName<span class="op">,</span> endpointsInName <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-43" data-line-number="43">            <span class="cf">return</span> <span class="at">keyBy</span>(endpointsInName<span class="op">,</span> <span class="st">&#39;method&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-44" data-line-number="44">          <span class="op">}</span>)</a>
<a class="sourceLine" id="Endpoints Selector-45" data-line-number="45">        <span class="op">}</span>)</a>
<a class="sourceLine" id="Endpoints Selector-46" data-line-number="46">      <span class="op">}</span>)</a>
<a class="sourceLine" id="Endpoints Selector-47" data-line-number="47">    <span class="op">}</span>)</a>
<a class="sourceLine" id="Endpoints Selector-48" data-line-number="48">  <span class="op">}</span></a>
<a class="sourceLine" id="Endpoints Selector-49" data-line-number="49">)</a>
<a class="sourceLine" id="Endpoints Selector-50" data-line-number="50"></a>
<a class="sourceLine" id="Endpoints Selector-51" data-line-number="51"><span class="im">export</span> <span class="kw">const</span> selectEndpointsWithTestCoverage <span class="op">=</span> <span class="at">createSelector</span>(</a>
<a class="sourceLine" id="Endpoints Selector-52" data-line-number="52">  selectEndpointsById<span class="op">,</span></a>
<a class="sourceLine" id="Endpoints Selector-53" data-line-number="53">  (endpointsById) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-54" data-line-number="54">    <span class="kw">var</span> endpointsByRelease <span class="op">=</span> <span class="at">groupBy</span>(endpointsById<span class="op">,</span> <span class="st">&#39;release&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-55" data-line-number="55">    <span class="cf">return</span> <span class="at">mapValues</span>(endpointsByRelease<span class="op">,</span> endpointsInRelease <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-56" data-line-number="56">      <span class="kw">var</span> endpointsByLevel <span class="op">=</span> <span class="at">groupBy</span>(endpointsInRelease<span class="op">,</span> <span class="st">&#39;level&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-57" data-line-number="57">      <span class="kw">var</span> coverage <span class="op">=</span> <span class="at">calculateCoverage</span>(endpointsInRelease)</a>
<a class="sourceLine" id="Endpoints Selector-58" data-line-number="58">      <span class="cf">return</span> <span class="va">Object</span>.<span class="at">assign</span>(<span class="op">{},{</span>coverage<span class="op">},</span> <span class="at">mapValues</span>(endpointsByLevel<span class="op">,</span> endpointsInLevel <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-59" data-line-number="59">        <span class="kw">var</span> endpointsByCategory <span class="op">=</span> <span class="at">groupBy</span>(endpointsInLevel<span class="op">,</span> <span class="st">&#39;category&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-60" data-line-number="60">        <span class="kw">var</span> coverage <span class="op">=</span> <span class="at">calculateCoverage</span>(endpointsInLevel)</a>
<a class="sourceLine" id="Endpoints Selector-61" data-line-number="61">        <span class="cf">return</span> <span class="va">Object</span>.<span class="at">assign</span>(<span class="op">{},</span> <span class="op">{</span>coverage<span class="op">},</span> <span class="at">mapValues</span>(endpointsByCategory<span class="op">,</span> endpointsInCategory <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-62" data-line-number="62">          <span class="kw">var</span> endpointsByName <span class="op">=</span> <span class="at">groupBy</span>(endpointsInCategory<span class="op">,</span> <span class="st">&#39;name&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-63" data-line-number="63">          <span class="kw">var</span> coverage <span class="op">=</span> <span class="at">calculateCoverage</span>(endpointsInCategory)</a>
<a class="sourceLine" id="Endpoints Selector-64" data-line-number="64">          <span class="cf">return</span> <span class="va">Object</span>.<span class="at">assign</span>(<span class="op">{},</span> <span class="op">{</span>coverage<span class="op">},</span> <span class="at">mapValues</span>(endpointsByName<span class="op">,</span> endpointsInName <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-65" data-line-number="65">            <span class="kw">var</span> methods <span class="op">=</span> <span class="at">keyBy</span>(endpointsInName<span class="op">,</span> <span class="st">&#39;method&#39;</span>)</a>
<a class="sourceLine" id="Endpoints Selector-66" data-line-number="66">            <span class="cf">return</span> <span class="at">mapValues</span>(methods<span class="op">,</span> method <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-67" data-line-number="67">              <span class="kw">var</span> coverage <span class="op">=</span> <span class="va">method</span>.<span class="at">test_tags</span> <span class="op">?</span> <span class="va">method</span>.<span class="at">test_tags</span> : [] <span class="co">// display empty array if untested, so chart don&#39;t break.</span></a>
<a class="sourceLine" id="Endpoints Selector-68" data-line-number="68">              <span class="cf">return</span> <span class="va">Object</span>.<span class="at">assign</span>(<span class="op">{},</span> <span class="op">{</span>coverage<span class="op">},</span> method)</a>
<a class="sourceLine" id="Endpoints Selector-69" data-line-number="69">            <span class="op">}</span>)</a>
<a class="sourceLine" id="Endpoints Selector-70" data-line-number="70">          <span class="op">}</span>))</a>
<a class="sourceLine" id="Endpoints Selector-71" data-line-number="71">        <span class="op">}</span>))</a>
<a class="sourceLine" id="Endpoints Selector-72" data-line-number="72">      <span class="op">}</span>))</a>
<a class="sourceLine" id="Endpoints Selector-73" data-line-number="73">    <span class="op">}</span>)</a>
<a class="sourceLine" id="Endpoints Selector-74" data-line-number="74">  <span class="op">}</span></a>
<a class="sourceLine" id="Endpoints Selector-75" data-line-number="75">)</a>
<a class="sourceLine" id="Endpoints Selector-76" data-line-number="76"></a>
<a class="sourceLine" id="Endpoints Selector-77" data-line-number="77"><span class="im">export</span> <span class="kw">const</span> selectIsEndpointsReady <span class="op">=</span> (state) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Endpoints Selector-78" data-line-number="78">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">endpoints</span>.<span class="at">hasLoaded</span></a>
<a class="sourceLine" id="Endpoints Selector-79" data-line-number="79"><span class="op">}</span></a></code></pre></div>
<p>Endpoints are unique by Release, Name, and Method.</p>
<h3 id="tests-selector">Tests Selector</h3>
<div class="sourceCode" id="Tests Selector" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Tests Selector-1" data-line-number="1"><span class="im">import</span> <span class="op">{</span> createSelector<span class="op">,</span> createStructuredSelector <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;reselect&#39;</span></a>
<a class="sourceLine" id="Tests Selector-2" data-line-number="2"><span class="im">import</span> <span class="op">{</span> groupBy<span class="op">,</span> keyBy<span class="op">,</span> mapValues <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;lodash&#39;</span></a>
<a class="sourceLine" id="Tests Selector-3" data-line-number="3"></a>
<a class="sourceLine" id="Tests Selector-4" data-line-number="4"><span class="im">export</span> <span class="kw">function</span> <span class="at">selectTestsById</span> (state) <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-5" data-line-number="5">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">tests</span>.<span class="at">byId</span></a>
<a class="sourceLine" id="Tests Selector-6" data-line-number="6"><span class="op">}</span></a>
<a class="sourceLine" id="Tests Selector-7" data-line-number="7"></a>
<a class="sourceLine" id="Tests Selector-8" data-line-number="8"><span class="im">export</span> <span class="kw">const</span> selectIsTestsReady <span class="op">=</span> (state) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-9" data-line-number="9">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">tests</span>.<span class="at">hasLoaded</span></a>
<a class="sourceLine" id="Tests Selector-10" data-line-number="10"><span class="op">}</span></a>
<a class="sourceLine" id="Tests Selector-11" data-line-number="11"></a>
<a class="sourceLine" id="Tests Selector-12" data-line-number="12"><span class="im">export</span> <span class="kw">const</span> selectEndpointTests <span class="op">=</span> (state) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-13" data-line-number="13">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">tests</span>.<span class="at">endpointTests</span></a>
<a class="sourceLine" id="Tests Selector-14" data-line-number="14"><span class="op">}</span></a>
<a class="sourceLine" id="Tests Selector-15" data-line-number="15"></a>
<a class="sourceLine" id="Tests Selector-16" data-line-number="16"><span class="im">export</span> <span class="kw">const</span> selectActiveTestRaw <span class="op">=</span> (state) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-17" data-line-number="17">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-18" data-line-number="18">    <span class="dt">name</span><span class="op">:</span> <span class="va">state</span>.<span class="va">tests</span>.<span class="at">activeTest</span><span class="op">,</span></a>
<a class="sourceLine" id="Tests Selector-19" data-line-number="19">    <span class="dt">route</span><span class="op">:</span> <span class="va">state</span>.<span class="va">routing</span>.<span class="at">release</span><span class="op">,</span></a>
<a class="sourceLine" id="Tests Selector-20" data-line-number="20">  <span class="op">}</span></a>
<a class="sourceLine" id="Tests Selector-21" data-line-number="21"><span class="op">}</span></a>
<a class="sourceLine" id="Tests Selector-22" data-line-number="22"></a>
<a class="sourceLine" id="Tests Selector-23" data-line-number="23"><span class="im">export</span> <span class="kw">const</span> selectTestsByReleaseAndName <span class="op">=</span> <span class="at">createSelector</span>(</a>
<a class="sourceLine" id="Tests Selector-24" data-line-number="24">  selectTestsById<span class="op">,</span></a>
<a class="sourceLine" id="Tests Selector-25" data-line-number="25">  (testsById) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-26" data-line-number="26">    <span class="kw">var</span> testsByRelease <span class="op">=</span> <span class="at">groupBy</span>(testsById<span class="op">,</span> <span class="st">&#39;release&#39;</span>)</a>
<a class="sourceLine" id="Tests Selector-27" data-line-number="27">    <span class="cf">return</span> <span class="at">mapValues</span>(testsByRelease<span class="op">,</span> testsInRelease <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-28" data-line-number="28">      <span class="kw">var</span> testsByName <span class="op">=</span> <span class="at">keyBy</span>(testsInRelease<span class="op">,</span> <span class="st">&#39;name&#39;</span>)</a>
<a class="sourceLine" id="Tests Selector-29" data-line-number="29">      <span class="cf">return</span> <span class="at">mapValues</span>(testsByName<span class="op">,</span> testInName <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-30" data-line-number="30">        <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-31" data-line-number="31">          <span class="dt">name</span><span class="op">:</span> <span class="va">testInName</span>.<span class="at">name</span><span class="op">,</span></a>
<a class="sourceLine" id="Tests Selector-32" data-line-number="32">          <span class="dt">id</span><span class="op">:</span> <span class="va">testInName</span>.<span class="at">_id</span><span class="op">,</span></a>
<a class="sourceLine" id="Tests Selector-33" data-line-number="33">          <span class="dt">sequence</span><span class="op">:</span> <span class="va">testInName</span>.<span class="at">sequence</span></a>
<a class="sourceLine" id="Tests Selector-34" data-line-number="34">        <span class="op">}</span></a>
<a class="sourceLine" id="Tests Selector-35" data-line-number="35">      <span class="op">}</span>)</a>
<a class="sourceLine" id="Tests Selector-36" data-line-number="36">    <span class="op">}</span>)</a>
<a class="sourceLine" id="Tests Selector-37" data-line-number="37">  <span class="op">}</span></a>
<a class="sourceLine" id="Tests Selector-38" data-line-number="38">)</a>
<a class="sourceLine" id="Tests Selector-39" data-line-number="39"></a>
<a class="sourceLine" id="Tests Selector-40" data-line-number="40"><span class="im">export</span> <span class="kw">const</span> selectActiveTestComponents <span class="op">=</span> <span class="at">createStructuredSelector</span>(<span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-41" data-line-number="41">  <span class="dt">activeTest</span><span class="op">:</span> selectActiveTestRaw<span class="op">,</span></a>
<a class="sourceLine" id="Tests Selector-42" data-line-number="42">  <span class="dt">tests</span><span class="op">:</span> selectTestsByReleaseAndName</a>
<a class="sourceLine" id="Tests Selector-43" data-line-number="43"><span class="op">}</span>)</a>
<a class="sourceLine" id="Tests Selector-44" data-line-number="44"></a>
<a class="sourceLine" id="Tests Selector-45" data-line-number="45"><span class="im">export</span> <span class="kw">const</span> selectActiveTest <span class="op">=</span> <span class="at">createSelector</span>(</a>
<a class="sourceLine" id="Tests Selector-46" data-line-number="46">  selectActiveTestComponents<span class="op">,</span></a>
<a class="sourceLine" id="Tests Selector-47" data-line-number="47">  (atc) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-48" data-line-number="48">    <span class="cf">if</span> (<span class="va">atc</span>.<span class="va">activeTest</span>.<span class="va">name</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-49" data-line-number="49">      <span class="kw">var</span> activeTest <span class="op">=</span> <span class="va">atc</span>.<span class="at">tests</span>[<span class="va">atc</span>.<span class="va">activeTest</span>.<span class="at">route</span>][<span class="va">atc</span>.<span class="va">activeTest</span>.<span class="at">name</span>]</a>
<a class="sourceLine" id="Tests Selector-50" data-line-number="50">      <span class="cf">return</span> activeTest</a>
<a class="sourceLine" id="Tests Selector-51" data-line-number="51">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="Tests Selector-52" data-line-number="52">      <span class="cf">return</span> <span class="va">atc</span>.<span class="va">activeTest</span>.<span class="at">name</span></a>
<a class="sourceLine" id="Tests Selector-53" data-line-number="53">    <span class="op">}</span></a>
<a class="sourceLine" id="Tests Selector-54" data-line-number="54">  <span class="op">}</span></a>
<a class="sourceLine" id="Tests Selector-55" data-line-number="55">)</a></code></pre></div>
<p>Tests are unique by Release and Name.</p>
<h3 id="chart-selector">Chart Selector</h3>
<div class="sourceCode" id="Chart Selector" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Chart Selector-1" data-line-number="1"><span class="im">import</span> <span class="op">{</span> createSelector<span class="op">,</span> createStructuredSelector <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;reselect&#39;</span></a>
<a class="sourceLine" id="Chart Selector-2" data-line-number="2"><span class="im">import</span> <span class="op">{</span> forEach<span class="op">,</span> get<span class="op">,</span> includes<span class="op">,</span> map<span class="op">,</span> mapValues<span class="op">,</span> orderBy<span class="op">,</span> sortBy<span class="op">,</span> reduce<span class="op">,</span> values<span class="op">,</span> without <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;lodash&#39;</span></a>
<a class="sourceLine" id="Chart Selector-3" data-line-number="3"></a>
<a class="sourceLine" id="Chart Selector-4" data-line-number="4"><span class="im">import</span> <span class="op">{</span> fadeColor <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../lib/utils&#39;</span></a>
<a class="sourceLine" id="Chart Selector-5" data-line-number="5"></a>
<a class="sourceLine" id="Chart Selector-6" data-line-number="6"><span class="im">import</span> <span class="op">{</span> selectEndpointsByReleaseAndLevelAndCategoryAndNameAndMethod<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-7" data-line-number="7">         selectEndpointsWithTestCoverage<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-8" data-line-number="8">         selectIsEndpointsReady <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./endpoints&#39;</span></a>
<a class="sourceLine" id="Chart Selector-9" data-line-number="9"><span class="im">import</span> <span class="op">{</span> selectRelease <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./routing&#39;</span></a>
<a class="sourceLine" id="Chart Selector-10" data-line-number="10"></a>
<a class="sourceLine" id="Chart Selector-11" data-line-number="11"></a>
<a class="sourceLine" id="Chart Selector-12" data-line-number="12"><span class="im">export</span> <span class="kw">function</span> <span class="at">selectFocusPathAsArray</span> (state) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-13" data-line-number="13">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">charts</span>.<span class="at">focusedKeyPath</span></a>
<a class="sourceLine" id="Chart Selector-14" data-line-number="14"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-15" data-line-number="15"></a>
<a class="sourceLine" id="Chart Selector-16" data-line-number="16"><span class="im">export</span> <span class="kw">function</span> <span class="at">selectChartLocked</span> (state) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-17" data-line-number="17">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">charts</span>.<span class="at">chartLocked</span></a>
<a class="sourceLine" id="Chart Selector-18" data-line-number="18"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-19" data-line-number="19"></a>
<a class="sourceLine" id="Chart Selector-20" data-line-number="20"><span class="im">export</span> <span class="kw">const</span> selectFocusPathAsString <span class="op">=</span> <span class="at">createSelector</span>(</a>
<a class="sourceLine" id="Chart Selector-21" data-line-number="21">  selectFocusPathAsArray<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-22" data-line-number="22">  (pathAsArray) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-23" data-line-number="23">    <span class="cf">return</span> <span class="va">pathAsArray</span>.<span class="at">join</span>().<span class="at">replace</span>(<span class="ss">/,/g</span><span class="op">,</span><span class="st">&#39; / &#39;</span>)</a>
<a class="sourceLine" id="Chart Selector-24" data-line-number="24">  <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-25" data-line-number="25">)</a>
<a class="sourceLine" id="Chart Selector-26" data-line-number="26"></a>
<a class="sourceLine" id="Chart Selector-27" data-line-number="27"><span class="im">export</span> <span class="kw">const</span> selectInteriorLabelComponents <span class="op">=</span> <span class="at">createStructuredSelector</span>(<span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-28" data-line-number="28">  <span class="dt">focusPath</span><span class="op">:</span> selectFocusPathAsArray<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-29" data-line-number="29">  <span class="dt">isEndpointsReady</span><span class="op">:</span> selectIsEndpointsReady<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-30" data-line-number="30">  <span class="dt">endpoints</span><span class="op">:</span> selectEndpointsWithTestCoverage<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-31" data-line-number="31">  <span class="dt">releaseFromRoute</span><span class="op">:</span> selectRelease</a>
<a class="sourceLine" id="Chart Selector-32" data-line-number="32"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-33" data-line-number="33">                                                                     )</a>
<a class="sourceLine" id="Chart Selector-34" data-line-number="34"><span class="co">// </span><span class="al">TODO</span><span class="co"> make this muuuuch better.  The nesting is gross, but it is because</span></a>
<a class="sourceLine" id="Chart Selector-35" data-line-number="35"><span class="co">// I am trying to make up an coverage thing to have our interior label work.  The ultimate goal is to be able to hover over a node and see either it&#39;s coverage (if it has children) or it&#39;s test_tags (if it doesn&#39;t)</span></a>
<a class="sourceLine" id="Chart Selector-36" data-line-number="36"><span class="im">export</span> <span class="kw">const</span> selectInteriorLabel <span class="op">=</span> <span class="at">createSelector</span>(</a>
<a class="sourceLine" id="Chart Selector-37" data-line-number="37">  selectInteriorLabelComponents<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-38" data-line-number="38">  (components) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-39" data-line-number="39">    <span class="kw">const</span> <span class="op">{</span> focusPath<span class="op">,</span> endpoints<span class="op">,</span> isEndpointsReady<span class="op">,</span> releaseFromRoute <span class="op">}</span> <span class="op">=</span> components</a>
<a class="sourceLine" id="Chart Selector-40" data-line-number="40">    <span class="cf">if</span> (isEndpointsReady) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-41" data-line-number="41">      <span class="cf">if</span> (<span class="op">!</span><span class="va">focusPath</span>.<span class="at">length</span>) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-42" data-line-number="42">        <span class="cf">return</span> endpoints[releaseFromRoute][<span class="st">&#39;coverage&#39;</span>]</a>
<a class="sourceLine" id="Chart Selector-43" data-line-number="43">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-44" data-line-number="44">        <span class="kw">var</span> path <span class="op">=</span> (<span class="at">without</span>(focusPath<span class="op">,</span> <span class="st">&#39;root&#39;</span>))</a>
<a class="sourceLine" id="Chart Selector-45" data-line-number="45">        <span class="kw">var</span> testedEndpoint <span class="op">=</span> <span class="at">get</span>(endpoints[releaseFromRoute]<span class="op">,</span> path)</a>
<a class="sourceLine" id="Chart Selector-46" data-line-number="46">        <span class="cf">if</span> (testedEndpoint <span class="op">&amp;&amp;</span> <span class="va">testedEndpoint</span>.<span class="at">coverage</span>) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-47" data-line-number="47">          <span class="cf">return</span> <span class="va">testedEndpoint</span>.<span class="at">coverage</span></a>
<a class="sourceLine" id="Chart Selector-48" data-line-number="48">        <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="op">!</span>testedEndpoint) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-49" data-line-number="49">          <span class="cf">return</span> <span class="op">{</span><span class="dt">description</span><span class="op">:</span> <span class="st">&#39;untested&#39;</span><span class="op">,</span> <span class="dt">test_tags</span><span class="op">:</span> []<span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-50" data-line-number="50">        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-51" data-line-number="51">          <span class="kw">var</span> method <span class="op">=</span> <span class="va">Object</span>.<span class="at">keys</span>(testedEndpoint)[<span class="dv">0</span>]</a>
<a class="sourceLine" id="Chart Selector-52" data-line-number="52">          <span class="cf">return</span> <span class="op">{</span><span class="dt">description</span><span class="op">:</span> testedEndpoint[method][<span class="st">&#39;description&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-53" data-line-number="53">                  <span class="dt">test_tags</span><span class="op">:</span> testedEndpoint[method][<span class="st">&#39;test_tags&#39;</span>]</a>
<a class="sourceLine" id="Chart Selector-54" data-line-number="54">                 <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-55" data-line-number="55">        <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-56" data-line-number="56">      <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-57" data-line-number="57">    <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-58" data-line-number="58">  <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-59" data-line-number="59">)</a>
<a class="sourceLine" id="Chart Selector-60" data-line-number="60"></a>
<a class="sourceLine" id="Chart Selector-61" data-line-number="61"><span class="im">export</span> <span class="kw">const</span> selectSunburstByRelease <span class="op">=</span> <span class="at">createSelector</span>(</a>
<a class="sourceLine" id="Chart Selector-62" data-line-number="62">  selectEndpointsByReleaseAndLevelAndCategoryAndNameAndMethod<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-63" data-line-number="63">  (endpointsByReleaseAndLevelAndCategoryAndNameAndMethod) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-64" data-line-number="64">    <span class="kw">var</span> dataByRelease <span class="op">=</span> <span class="at">mapValues</span>(endpointsByReleaseAndLevelAndCategoryAndNameAndMethod<span class="op">,</span> (endpointsByLevelAndCategoryAndNameAndMethod<span class="op">,</span> release) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-65" data-line-number="65">      <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-66" data-line-number="66">        <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;root&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-67" data-line-number="67">        <span class="dt">children</span><span class="op">:</span> <span class="at">map</span>(endpointsByLevelAndCategoryAndNameAndMethod<span class="op">,</span> (endpointsByCategoryAndNameAndMethod<span class="op">,</span> level) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-68" data-line-number="68">          <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-69" data-line-number="69">            <span class="dt">name</span><span class="op">:</span> level<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-70" data-line-number="70">            <span class="dt">color</span><span class="op">:</span> colors[level]<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-71" data-line-number="71">            <span class="dt">children</span><span class="op">:</span> <span class="at">categoriesSortedByEndpointCount</span>(endpointsByCategoryAndNameAndMethod)</a>
<a class="sourceLine" id="Chart Selector-72" data-line-number="72">          <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-73" data-line-number="73">        <span class="op">}</span>)</a>
<a class="sourceLine" id="Chart Selector-74" data-line-number="74">      <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-75" data-line-number="75">    <span class="op">}</span>)</a>
<a class="sourceLine" id="Chart Selector-76" data-line-number="76">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-77" data-line-number="77">      dataByRelease</a>
<a class="sourceLine" id="Chart Selector-78" data-line-number="78">    <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-79" data-line-number="79">  <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-80" data-line-number="80">)</a>
<a class="sourceLine" id="Chart Selector-81" data-line-number="81"></a>
<a class="sourceLine" id="Chart Selector-82" data-line-number="82"><span class="kw">function</span> <span class="at">categoriesSortedByEndpointCount</span> (endpointsByCategoryAndNameAndMethod) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-83" data-line-number="83">  <span class="kw">var</span> categories <span class="op">=</span> <span class="at">categoriesWithEndpointsAsChildren</span>(endpointsByCategoryAndNameAndMethod)</a>
<a class="sourceLine" id="Chart Selector-84" data-line-number="84">  <span class="cf">return</span> <span class="at">orderBy</span>(categories<span class="op">,</span> (category) <span class="op">=&gt;</span> <span class="va">category</span>.<span class="va">children</span>.<span class="at">length</span><span class="op">,</span> [<span class="st">&#39;desc&#39;</span>])</a>
<a class="sourceLine" id="Chart Selector-85" data-line-number="85"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-86" data-line-number="86"></a>
<a class="sourceLine" id="Chart Selector-87" data-line-number="87"><span class="kw">function</span> <span class="at">categoriesWithEndpointsAsChildren</span> (endpointsByCategoryAndNameAndMethod) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-88" data-line-number="88">  <span class="cf">return</span> <span class="at">map</span>(endpointsByCategoryAndNameAndMethod<span class="op">,</span> (endpointsByNameAndMethod<span class="op">,</span> category) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-89" data-line-number="89">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-90" data-line-number="90">      <span class="dt">name</span><span class="op">:</span> category<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-91" data-line-number="91">      <span class="dt">color</span><span class="op">:</span> colors[<span class="vs">`category.</span><span class="sc">${</span>category<span class="sc">}</span><span class="vs">`</span>]<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-92" data-line-number="92">      <span class="dt">children</span><span class="op">:</span> <span class="at">endpointsSortedByConformance</span>(endpointsByNameAndMethod)</a>
<a class="sourceLine" id="Chart Selector-93" data-line-number="93">    <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-94" data-line-number="94">  <span class="op">}</span>)</a>
<a class="sourceLine" id="Chart Selector-95" data-line-number="95"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-96" data-line-number="96"></a>
<a class="sourceLine" id="Chart Selector-97" data-line-number="97"><span class="kw">function</span> <span class="at">endpointsSortedByConformance</span> (endpointsByNameAndMethod) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-98" data-line-number="98">  <span class="kw">var</span> endpoints <span class="op">=</span> <span class="at">createEndpointAndMethod</span>(endpointsByNameAndMethod)</a>
<a class="sourceLine" id="Chart Selector-99" data-line-number="99">  <span class="kw">var</span> sortedEndpoints <span class="op">=</span> <span class="at">sortBy</span>(endpoints<span class="op">,</span> [</a>
<a class="sourceLine" id="Chart Selector-100" data-line-number="100">    (endpoint) <span class="op">=&gt;</span> <span class="va">endpoint</span>.<span class="at">tested</span> <span class="op">===</span> <span class="st">&#39;untested&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-101" data-line-number="101">    (endpoint) <span class="op">=&gt;</span> <span class="va">endpoint</span>.<span class="at">isConformance</span> <span class="op">!==</span> <span class="st">&#39;conformance&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-102" data-line-number="102">    (endpoint) <span class="op">=&gt;</span> <span class="va">endpoint</span>.<span class="at">testTagCount</span></a>
<a class="sourceLine" id="Chart Selector-103" data-line-number="103">  ])</a>
<a class="sourceLine" id="Chart Selector-104" data-line-number="104">  <span class="cf">return</span> sortedEndpoints</a>
<a class="sourceLine" id="Chart Selector-105" data-line-number="105"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-106" data-line-number="106"></a>
<a class="sourceLine" id="Chart Selector-107" data-line-number="107"><span class="kw">function</span> <span class="at">createEndpointAndMethod</span>(endpointsByNameAndMethod) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-108" data-line-number="108">  <span class="cf">return</span> <span class="at">values</span>(<span class="at">reduce</span>(</a>
<a class="sourceLine" id="Chart Selector-109" data-line-number="109">    endpointsByNameAndMethod<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-110" data-line-number="110">    (sofar<span class="op">,</span> endpointsByMethod<span class="op">,</span> name) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-111" data-line-number="111">      sofar <span class="op">=</span> <span class="at">fillOutMethodInfo</span>(sofar<span class="op">,</span> endpointsByMethod<span class="op">,</span> name)</a>
<a class="sourceLine" id="Chart Selector-112" data-line-number="112">      <span class="cf">return</span> sofar</a>
<a class="sourceLine" id="Chart Selector-113" data-line-number="113">    <span class="op">},</span></a>
<a class="sourceLine" id="Chart Selector-114" data-line-number="114">    <span class="op">{}</span></a>
<a class="sourceLine" id="Chart Selector-115" data-line-number="115">  ))</a>
<a class="sourceLine" id="Chart Selector-116" data-line-number="116"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-117" data-line-number="117"></a>
<a class="sourceLine" id="Chart Selector-118" data-line-number="118"><span class="co">// </span><span class="al">TODO</span><span class="co"> change endpoint to method for clarity starting on line 115</span></a>
<a class="sourceLine" id="Chart Selector-119" data-line-number="119"><span class="kw">function</span> <span class="at">fillOutMethodInfo</span> (sofar<span class="op">,</span> endpointsByMethod<span class="op">,</span> name) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-120" data-line-number="120">  <span class="at">forEach</span>(endpointsByMethod<span class="op">,</span> (endpoint<span class="op">,</span> method) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-121" data-line-number="121">    <span class="kw">var</span> <span class="op">{</span> isTested <span class="op">}</span> <span class="op">=</span> endpoint</a>
<a class="sourceLine" id="Chart Selector-122" data-line-number="122">    <span class="kw">var</span> isConformance <span class="op">=</span> <span class="at">checkForConformance</span>(<span class="va">endpoint</span>.<span class="at">test_tags</span>)</a>
<a class="sourceLine" id="Chart Selector-123" data-line-number="123">    <span class="kw">var</span> path <span class="op">=</span> <span class="vs">`</span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">/</span><span class="sc">${</span>method<span class="sc">}</span><span class="vs">`</span></a>
<a class="sourceLine" id="Chart Selector-124" data-line-number="124">    <span class="kw">var</span> size <span class="op">=</span> (sofar[path] <span class="op">==</span> <span class="kw">null</span>) <span class="op">?</span> <span class="dv">1</span> : sofar[path].<span class="at">size</span> <span class="op">+</span> <span class="dv">1</span></a>
<a class="sourceLine" id="Chart Selector-125" data-line-number="125">    sofar[path] <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-126" data-line-number="126">      name<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-127" data-line-number="127">      <span class="dt">testTagCount</span><span class="op">:</span> <span class="va">endpoint</span>.<span class="va">test_tags</span>.<span class="at">length</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-128" data-line-number="128">      <span class="dt">tested</span><span class="op">:</span> isTested <span class="op">?</span> <span class="st">&#39;tested&#39;</span> : <span class="st">&#39;untested&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-129" data-line-number="129">      <span class="dt">isConformance</span><span class="op">:</span> isConformance <span class="op">?</span> <span class="st">&quot;conformance&quot;</span> : <span class="st">&quot;not conformance&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-130" data-line-number="130">      size<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-131" data-line-number="131">      <span class="dt">color</span><span class="op">:</span> isTested <span class="op">?</span> <span class="at">calculateColor</span>(endpoint<span class="op">,</span> isConformance) : <span class="st">&#39;rgba(244,244,244, 1)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-132" data-line-number="132">    <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-133" data-line-number="133">  <span class="op">}</span>)</a>
<a class="sourceLine" id="Chart Selector-134" data-line-number="134">  <span class="cf">return</span> sofar</a>
<a class="sourceLine" id="Chart Selector-135" data-line-number="135"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-136" data-line-number="136"></a>
<a class="sourceLine" id="Chart Selector-137" data-line-number="137"><span class="kw">function</span> <span class="at">checkForConformance</span> (test_tags) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-138" data-line-number="138">  <span class="kw">var</span> tagsAsStrings <span class="op">=</span> <span class="va">test_tags</span>.<span class="at">map</span>(tag <span class="op">=&gt;</span> <span class="va">tag</span>.<span class="at">replace</span>(<span class="ss">/</span><span class="sc">\[|</span><span class="ss">]/g</span><span class="op">,</span><span class="st">&#39;&#39;</span>))</a>
<a class="sourceLine" id="Chart Selector-139" data-line-number="139">  <span class="cf">return</span> <span class="at">includes</span>(tagsAsStrings<span class="op">,</span> <span class="st">&#39;Conformance&#39;</span>)</a>
<a class="sourceLine" id="Chart Selector-140" data-line-number="140"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-141" data-line-number="141"></a>
<a class="sourceLine" id="Chart Selector-142" data-line-number="142"><span class="im">export</span> <span class="kw">const</span> selectSunburstByReleaseWithSortedLevel <span class="op">=</span> <span class="at">createSelector</span>(</a>
<a class="sourceLine" id="Chart Selector-143" data-line-number="143">  selectSunburstByRelease<span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-144" data-line-number="144">  (endpointsByRelease) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-145" data-line-number="145">    <span class="kw">var</span> dataByRelease <span class="op">=</span> <span class="va">endpointsByRelease</span>.<span class="at">dataByRelease</span></a>
<a class="sourceLine" id="Chart Selector-146" data-line-number="146">    <span class="kw">var</span> sortedDataByRelease <span class="op">=</span> <span class="at">mapValues</span>(dataByRelease<span class="op">,</span> (release) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-147" data-line-number="147">      <span class="kw">var</span> levels <span class="op">=</span> <span class="va">release</span>.<span class="at">children</span></a>
<a class="sourceLine" id="Chart Selector-148" data-line-number="148">      <span class="kw">var</span> sortedLevels <span class="op">=</span> <span class="at">orderBy</span>(levels<span class="op">,</span> <span class="st">&#39;name&#39;</span><span class="op">,</span> <span class="st">&#39;desc&#39;</span>)</a>
<a class="sourceLine" id="Chart Selector-149" data-line-number="149">      <span class="va">release</span>.<span class="at">children</span> <span class="op">=</span> sortedLevels</a>
<a class="sourceLine" id="Chart Selector-150" data-line-number="150">      <span class="cf">return</span> release</a>
<a class="sourceLine" id="Chart Selector-151" data-line-number="151">    <span class="op">}</span>)</a>
<a class="sourceLine" id="Chart Selector-152" data-line-number="152">    <span class="va">endpointsByRelease</span>.<span class="at">dataByRelease</span> <span class="op">=</span> sortedDataByRelease</a>
<a class="sourceLine" id="Chart Selector-153" data-line-number="153">    <span class="cf">return</span> endpointsByRelease</a>
<a class="sourceLine" id="Chart Selector-154" data-line-number="154">  <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-155" data-line-number="155">)</a>
<a class="sourceLine" id="Chart Selector-156" data-line-number="156"></a>
<a class="sourceLine" id="Chart Selector-157" data-line-number="157"><span class="im">export</span> <span class="kw">const</span> selectIsSunburstReady <span class="op">=</span> selectIsEndpointsReady</a>
<a class="sourceLine" id="Chart Selector-158" data-line-number="158"></a>
<a class="sourceLine" id="Chart Selector-159" data-line-number="159"><span class="kw">var</span> colors <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-160" data-line-number="160">  <span class="st">&#39;alpha&#39;</span><span class="op">:</span> <span class="st">&#39;rgba(230, 25, 75, 1)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-161" data-line-number="161">  <span class="st">&#39;beta&#39;</span><span class="op">:</span> <span class="st">&#39;rgba(0, 130, 200, 1)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-162" data-line-number="162">  <span class="st">&#39;stable&#39;</span><span class="op">:</span> <span class="st">&#39;rgba(60, 180, 75, 1)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-163" data-line-number="163">  <span class="st">&#39;unused&#39;</span><span class="op">:</span> <span class="st">&#39;rgba(255, 255, 255, 1)&#39;</span></a>
<a class="sourceLine" id="Chart Selector-164" data-line-number="164"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-165" data-line-number="165"></a>
<a class="sourceLine" id="Chart Selector-166" data-line-number="166"><span class="kw">var</span> categories <span class="op">=</span> [</a>
<a class="sourceLine" id="Chart Selector-167" data-line-number="167">  <span class="st">&quot;admissionregistration&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-168" data-line-number="168">  <span class="st">&quot;apiextensions&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-169" data-line-number="169">  <span class="st">&quot;apiregistration&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-170" data-line-number="170">  <span class="st">&quot;apis&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-171" data-line-number="171">  <span class="st">&quot;apps&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-172" data-line-number="172">  <span class="st">&quot;authentication&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-173" data-line-number="173">  <span class="st">&quot;authorization&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-174" data-line-number="174">  <span class="st">&quot;autoscaling&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-175" data-line-number="175">  <span class="st">&quot;batch&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-176" data-line-number="176">  <span class="st">&quot;certificates&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-177" data-line-number="177">  <span class="st">&quot;core&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-178" data-line-number="178">  <span class="st">&quot;events&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-179" data-line-number="179">  <span class="st">&quot;extensions&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-180" data-line-number="180">  <span class="st">&quot;logs&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-181" data-line-number="181">  <span class="st">&quot;networking&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-182" data-line-number="182">  <span class="st">&quot;policy&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-183" data-line-number="183">  <span class="st">&quot;rbacAuthorization&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-184" data-line-number="184">  <span class="st">&quot;scheduling&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-185" data-line-number="185">  <span class="st">&quot;settings&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-186" data-line-number="186">  <span class="st">&quot;storage&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-187" data-line-number="187">  <span class="st">&quot;version&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-188" data-line-number="188">  <span class="st">&quot;auditregistration&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-189" data-line-number="189">  <span class="st">&quot;coordination&quot;</span></a>
<a class="sourceLine" id="Chart Selector-190" data-line-number="190">]</a>
<a class="sourceLine" id="Chart Selector-191" data-line-number="191"></a>
<a class="sourceLine" id="Chart Selector-192" data-line-number="192"><span class="kw">var</span> more_colors <span class="op">=</span> [</a>
<a class="sourceLine" id="Chart Selector-193" data-line-number="193">  <span class="st">&#39;rgba(183, 28, 28, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(136, 14, 79, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(74, 20, 140, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(49, 27, 146, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(26, 35, 126, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(13, 71, 161, 1)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-194" data-line-number="194">  <span class="st">&#39;rgba(1, 87, 155, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(0, 96, 100, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(0, 77, 64, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(27, 94, 32, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(51, 105, 30, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(130, 119, 23, 1)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-195" data-line-number="195">  <span class="st">&#39;rgba(245, 127, 23, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(255, 111, 0, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(230, 81, 0, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(191, 54, 12, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(244, 67, 54, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(233, 30, 99, 1)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-196" data-line-number="196">  <span class="st">&#39;rgba(156, 39, 176, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(103, 58, 183, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(63, 81, 181, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(33, 150, 243, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(3, 169, 244, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(0, 188, 212, 1)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-197" data-line-number="197">  <span class="st">&#39;rgba(0, 150, 136, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(76, 175, 80, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(139, 195, 74, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(205, 220, 57, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(255, 235, 59, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(255, 193, 7, 1)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="Chart Selector-198" data-line-number="198">  <span class="st">&#39;rgba(255, 152, 0, 1)&#39;</span><span class="op">,</span> <span class="st">&#39;rgba(255, 87, 34, 1)&#39;</span></a>
<a class="sourceLine" id="Chart Selector-199" data-line-number="199">]</a>
<a class="sourceLine" id="Chart Selector-200" data-line-number="200"></a>
<a class="sourceLine" id="Chart Selector-201" data-line-number="201"><span class="co">//   var more_colors = [&quot;#b71c1c&quot;, &quot;#880E4F&quot;, &quot;#4A148C&quot;, &quot;#311B92&quot;, &quot;#1A237E&quot;, &quot;#0D47A1&quot;, &quot;#01579B&quot;, &quot;#006064&quot;, &quot;#004D40&quot;, &quot;#1B5E20&quot;, &quot;#33691E&quot;, &quot;#827717&quot;, &quot;#F57F17&quot;, &quot;#FF6F00&quot;, &quot;#E65100&quot;, &quot;#BF360C&quot;, &quot;#f44336&quot;, &quot;#E91E63&quot;, &quot;#9C27B0&quot;, &quot;#673AB7&quot;, &quot;#3F51B5&quot;, &quot;#2196F3&quot;, &quot;#03A9F4&quot;, &quot;#00BCD4&quot;, &quot;#009688&quot;, &quot;#4CAF50&quot;, &quot;#8BC34A&quot;, &quot;#CDDC39&quot;, &quot;#FFEB3B&quot;, &quot;#FFC107&quot;, &quot;#FF9800&quot;, &quot;#FF5722&quot;]</span></a>
<a class="sourceLine" id="Chart Selector-202" data-line-number="202"></a>
<a class="sourceLine" id="Chart Selector-203" data-line-number="203"><span class="cf">for</span> (<span class="kw">var</span> catidx <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> catidx <span class="op">&lt;</span> <span class="va">categories</span>.<span class="at">length</span><span class="op">;</span> catidx<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-204" data-line-number="204">  <span class="kw">var</span> category <span class="op">=</span> categories[catidx]</a>
<a class="sourceLine" id="Chart Selector-205" data-line-number="205">  colors[<span class="st">&#39;category.&#39;</span> <span class="op">+</span> category] <span class="op">=</span> more_colors[(catidx <span class="op">*</span> <span class="dv">3</span>) <span class="op">%</span> <span class="va">more_colors</span>.<span class="at">length</span>]</a>
<a class="sourceLine" id="Chart Selector-206" data-line-number="206"><span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-207" data-line-number="207"></a>
<a class="sourceLine" id="Chart Selector-208" data-line-number="208"><span class="kw">function</span> <span class="at">calculateColor</span> (endpoint<span class="op">,</span> isConformance) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-209" data-line-number="209">  <span class="cf">if</span> (<span class="va">endpoint</span>.<span class="at">isTested</span> <span class="op">&amp;&amp;</span> isConformance)  <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-210" data-line-number="210">    <span class="cf">return</span> colors[<span class="vs">`category.</span><span class="sc">${</span><span class="va">endpoint</span>.<span class="at">category</span><span class="sc">}</span><span class="vs">`</span>]</a>
<a class="sourceLine" id="Chart Selector-211" data-line-number="211">  <span class="op">}</span> <span class="cf">else</span>  <span class="cf">if</span>( <span class="va">endpoint</span>.<span class="at">isTested</span> <span class="op">&amp;&amp;</span> <span class="op">!</span>isConformance) <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-212" data-line-number="212">    <span class="kw">var</span> color <span class="op">=</span> colors[<span class="vs">`category.</span><span class="sc">${</span><span class="va">endpoint</span>.<span class="at">category</span><span class="sc">}</span><span class="vs">`</span>]</a>
<a class="sourceLine" id="Chart Selector-213" data-line-number="213">    <span class="kw">var</span> fadedColor <span class="op">=</span> <span class="at">fadeColor</span>(color<span class="op">,</span> <span class="st">&#39;0.2&#39;</span>)</a>
<a class="sourceLine" id="Chart Selector-214" data-line-number="214">    <span class="cf">return</span> fadedColor</a>
<a class="sourceLine" id="Chart Selector-215" data-line-number="215">  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="Chart Selector-216" data-line-number="216">    <span class="cf">return</span> <span class="st">&#39;rgba(244, 244, 244, 1)&#39;</span></a>
<a class="sourceLine" id="Chart Selector-217" data-line-number="217">  <span class="op">}</span></a>
<a class="sourceLine" id="Chart Selector-218" data-line-number="218"><span class="op">}</span></a></code></pre></div>
<h3 id="routing-selector">Routing Selector</h3>
<div class="sourceCode" id="Routing Selector" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="Routing Selector-1" data-line-number="1"></a>
<a class="sourceLine" id="Routing Selector-2" data-line-number="2"><span class="im">export</span> <span class="kw">function</span> <span class="at">selectActiveRoute</span> (state) <span class="op">{</span></a>
<a class="sourceLine" id="Routing Selector-3" data-line-number="3">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">routing</span>.<span class="at">activeRoute</span></a>
<a class="sourceLine" id="Routing Selector-4" data-line-number="4"><span class="op">}</span></a>
<a class="sourceLine" id="Routing Selector-5" data-line-number="5"></a>
<a class="sourceLine" id="Routing Selector-6" data-line-number="6"><span class="im">export</span> <span class="kw">function</span> <span class="at">selectRouteChange</span> (state) <span class="op">{</span></a>
<a class="sourceLine" id="Routing Selector-7" data-line-number="7">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">routing</span>.<span class="at">routeChange</span></a>
<a class="sourceLine" id="Routing Selector-8" data-line-number="8"><span class="op">}</span></a>
<a class="sourceLine" id="Routing Selector-9" data-line-number="9"></a>
<a class="sourceLine" id="Routing Selector-10" data-line-number="10"><span class="im">export</span> <span class="kw">function</span> <span class="at">selectPathName</span> (state) <span class="op">{</span></a>
<a class="sourceLine" id="Routing Selector-11" data-line-number="11">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">routing</span>.<span class="at">pathname</span></a>
<a class="sourceLine" id="Routing Selector-12" data-line-number="12"><span class="op">}</span></a>
<a class="sourceLine" id="Routing Selector-13" data-line-number="13"><span class="im">export</span> <span class="kw">function</span> <span class="at">selectRelease</span> (state) <span class="op">{</span></a>
<a class="sourceLine" id="Routing Selector-14" data-line-number="14">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">routing</span>.<span class="at">release</span></a>
<a class="sourceLine" id="Routing Selector-15" data-line-number="15"><span class="op">}</span></a>
<a class="sourceLine" id="Routing Selector-16" data-line-number="16"></a>
<a class="sourceLine" id="Routing Selector-17" data-line-number="17"><span class="im">export</span> <span class="kw">function</span> <span class="at">selectPage</span> (state) <span class="op">{</span></a>
<a class="sourceLine" id="Routing Selector-18" data-line-number="18">  <span class="cf">return</span> <span class="va">state</span>.<span class="va">routing</span>.<span class="at">page</span></a>
<a class="sourceLine" id="Routing Selector-19" data-line-number="19"><span class="op">}</span></a></code></pre></div>
<p>Endpoints are unique by Release, Name, and Method.</p>
</body>
</html>
